{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{MoreVertical,Check,X,Eye}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GoalCardMenu=_ref=>{let{onComplete,onRemove,onFocus,isCompleted,isFocused}=_ref;const[isOpen,setIsOpen]=useState(false);const menuRef=useRef(null);// Close menu when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(menuRef.current&&!menuRef.current.contains(event.target)){setIsOpen(false);}};if(isOpen){document.addEventListener('mousedown',handleClickOutside);}return()=>{document.removeEventListener('mousedown',handleClickOutside);};},[isOpen]);const handleMenuClick=e=>{e.stopPropagation();setIsOpen(!isOpen);};const handleAction=action=>{action();setIsOpen(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",ref:menuRef,children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleMenuClick,className:\"p-1 rounded hover:bg-gray-200 transition-colors\",\"aria-label\":\"More options\",children:/*#__PURE__*/_jsx(MoreVertical,{size:16,className:\"text-gray-600\"})}),isOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"absolute right-0 top-8 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 min-w-[150px]\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:e=>{e.stopPropagation();handleAction(onComplete);},className:\"w-full px-3 py-2 text-left hover:bg-gray-100 flex items-center gap-2 text-sm\",children:[/*#__PURE__*/_jsx(Check,{size:14,className:isCompleted?'text-green-600':'text-gray-600'}),/*#__PURE__*/_jsx(\"span\",{className:isCompleted?'text-green-600':'',children:isCompleted?'Completed':'Complete'})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:e=>{e.stopPropagation();handleAction(onRemove);},className:\"w-full px-3 py-2 text-left hover:bg-red-50 flex items-center gap-2 text-sm text-red-600\",children:[/*#__PURE__*/_jsx(X,{size:14}),/*#__PURE__*/_jsx(\"span\",{children:\"Remove\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:e=>{e.stopPropagation();handleAction(onFocus);},className:\"w-full px-3 py-2 text-left hover:bg-gray-100 flex items-center gap-2 text-sm\",children:[/*#__PURE__*/_jsx(Eye,{size:14,className:isFocused?'text-purple-600':'text-gray-600'}),/*#__PURE__*/_jsx(\"span\",{className:isFocused?'text-purple-600':'',children:isFocused?'Focused':'Focus'})]})]})]});};export default GoalCardMenu;","map":{"version":3,"names":["React","useState","useRef","useEffect","MoreVertical","Check","X","Eye","jsx","_jsx","jsxs","_jsxs","GoalCardMenu","_ref","onComplete","onRemove","onFocus","isCompleted","isFocused","isOpen","setIsOpen","menuRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleMenuClick","e","stopPropagation","handleAction","action","className","ref","children","onClick","size"],"sources":["C:/apps/goal-breaker/src/components/GoalCardMenu.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { MoreVertical, Check, X, Eye } from 'lucide-react';\r\n\r\ninterface GoalCardMenuProps {\r\n  onComplete: () => void;\r\n  onRemove: () => void;\r\n  onFocus: () => void;\r\n  isCompleted: boolean;\r\n  isFocused: boolean;\r\n}\r\n\r\nconst GoalCardMenu: React.FC<GoalCardMenuProps> = ({\r\n  onComplete,\r\n  onRemove,\r\n  onFocus,\r\n  isCompleted,\r\n  isFocused\r\n}) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const menuRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Close menu when clicking outside\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\r\n        setIsOpen(false);\r\n      }\r\n    };\r\n\r\n    if (isOpen) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n    }\r\n    \r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [isOpen]);\r\n\r\n  const handleMenuClick = (e: React.MouseEvent) => {\r\n    e.stopPropagation();\r\n    setIsOpen(!isOpen);\r\n  };\r\n\r\n  const handleAction = (action: () => void) => {\r\n    action();\r\n    setIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\" ref={menuRef}>\r\n      <button\r\n        onClick={handleMenuClick}\r\n        className=\"p-1 rounded hover:bg-gray-200 transition-colors\"\r\n        aria-label=\"More options\"\r\n      >\r\n        <MoreVertical size={16} className=\"text-gray-600\" />\r\n      </button>\r\n\r\n      {isOpen && (\r\n        <div className=\"absolute right-0 top-8 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 min-w-[150px]\">\r\n          <button\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              handleAction(onComplete);\r\n            }}\r\n            className=\"w-full px-3 py-2 text-left hover:bg-gray-100 flex items-center gap-2 text-sm\"\r\n          >\r\n            <Check size={14} className={isCompleted ? 'text-green-600' : 'text-gray-600'} />\r\n            <span className={isCompleted ? 'text-green-600' : ''}>\r\n              {isCompleted ? 'Completed' : 'Complete'}\r\n            </span>\r\n          </button>\r\n\r\n          <button\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              handleAction(onRemove);\r\n            }}\r\n            className=\"w-full px-3 py-2 text-left hover:bg-red-50 flex items-center gap-2 text-sm text-red-600\"\r\n          >\r\n            <X size={14} />\r\n            <span>Remove</span>\r\n          </button>\r\n\r\n          <button\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              handleAction(onFocus);\r\n            }}\r\n            className=\"w-full px-3 py-2 text-left hover:bg-gray-100 flex items-center gap-2 text-sm\"\r\n          >\r\n            <Eye size={14} className={isFocused ? 'text-purple-600' : 'text-gray-600'} />\r\n            <span className={isFocused ? 'text-purple-600' : ''}>\r\n              {isFocused ? 'Focused' : 'Focus'}\r\n            </span>\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GoalCardMenu;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}