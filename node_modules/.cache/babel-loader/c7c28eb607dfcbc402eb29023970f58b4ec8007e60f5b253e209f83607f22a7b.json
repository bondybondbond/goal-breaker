{"ast":null,"code":"var _jsxFileName = \"C:\\\\apps\\\\goal-breaker\\\\src\\\\components\\\\GoalBreakdown\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { Plus, Check, X, Target, Edit3, Move, Eye, EyeOff, Focus } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FluidGoalBreakdown = () => {\n  _s();\n  const [goals, setGoals] = useState([]);\n  const [mainGoal, setMainGoal] = useState('');\n  const [isStarted, setIsStarted] = useState(false);\n  const [draggedGoal, setDraggedGoal] = useState(null);\n  const [dragOffset, setDragOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const [connections, setConnections] = useState([]);\n  const [hiddenLevels, setHiddenLevels] = useState(new Set());\n  const [focusedGoal, setFocusedGoal] = useState(null);\n  const [canvasOffset, setCanvasOffset] = useState({\n    x: 0,\n    y: 0\n  });\n  const [isPanning, setIsPanning] = useState(false);\n  const [panStart, setPanStart] = useState({\n    x: 0,\n    y: 0\n  });\n  const [spacePressed, setSpacePressed] = useState(false);\n  const canvasRef = useRef(null);\n  const [canvasSize, setCanvasSize] = useState({\n    width: 2000,\n    height: 1200\n  });\n\n  // Grid system constants\n  const GRID = {\n    COLUMN_WIDTH: 400,\n    ROW_HEIGHT: 140,\n    CARD_WIDTH: 320,\n    CARD_HEIGHT: 120,\n    MARGIN: 40\n  };\n\n  // Level styling system - borders only, intensity increases with level\n  const getLevelStyle = (level, completed) => {\n    const levelStyles = [{\n      border: 'border-yellow-400',\n      borderWidth: 'border-4',\n      color: 'text-yellow-600'\n    },\n    // Ultimate goal\n    {\n      border: 'border-blue-300',\n      borderWidth: 'border-2',\n      color: 'text-blue-500'\n    }, {\n      border: 'border-purple-400',\n      borderWidth: 'border-[3px]',\n      color: 'text-purple-600'\n    }, {\n      border: 'border-green-400',\n      borderWidth: 'border-[3px]',\n      color: 'text-green-600'\n    }, {\n      border: 'border-orange-400',\n      borderWidth: 'border-[4px]',\n      color: 'text-orange-600'\n    }, {\n      border: 'border-pink-400',\n      borderWidth: 'border-[4px]',\n      color: 'text-pink-600'\n    }, {\n      border: 'border-red-400',\n      borderWidth: 'border-[4px]',\n      color: 'text-red-600'\n    }, {\n      border: 'border-indigo-500',\n      borderWidth: 'border-[5px]',\n      color: 'text-indigo-700'\n    }];\n    const style = levelStyles[Math.min(level, levelStyles.length - 1)];\n    if (completed) {\n      return {\n        border: 'border-green-500',\n        borderWidth: style.borderWidth,\n        bg: 'bg-green-100',\n        color: 'text-green-800'\n      };\n    }\n    return {\n      border: style.border,\n      borderWidth: style.borderWidth,\n      bg: 'bg-white',\n      color: style.color\n    };\n  };\n\n  // Convert grid coordinates to pixel position\n  const gridToPosition = (level, row) => {\n    const x = canvasSize.width - GRID.MARGIN - level * GRID.COLUMN_WIDTH - GRID.CARD_WIDTH;\n    const y = GRID.MARGIN + row * GRID.ROW_HEIGHT;\n    return {\n      x: Math.max(GRID.MARGIN, x),\n      y: Math.max(GRID.MARGIN, y)\n    };\n  };\n\n  // Convert pixel position to grid coordinates\n  const positionToGrid = position => {\n    const level = Math.max(0, Math.round((canvasSize.width - position.x - GRID.CARD_WIDTH - GRID.MARGIN) / GRID.COLUMN_WIDTH));\n    const row = Math.max(0, Math.round((position.y - GRID.MARGIN) / GRID.ROW_HEIGHT));\n    return {\n      level,\n      row\n    };\n  };\n\n  // Get next available row for a level\n  const getNextRowForLevel = level => {\n    const levelGoals = goals.filter(g => g.level === level);\n    if (levelGoals.length === 0) return 0;\n    const occupiedRows = levelGoals.map(g => g.gridRow).sort((a, b) => a - b);\n    let nextRow = 0;\n    for (const row of occupiedRows) {\n      if (row === nextRow) {\n        nextRow++;\n      } else {\n        break;\n      }\n    }\n    return nextRow;\n  };\n\n  // Shift goals in a level when inserting at specific row\n  const shiftGoalsDown = (level, fromRow, excludeId = null) => {\n    setGoals(prev => prev.map(goal => {\n      if (goal.level === level && goal.gridRow >= fromRow && goal.id !== excludeId) {\n        const newRow = goal.gridRow + 1;\n        return {\n          ...goal,\n          gridRow: newRow,\n          position: gridToPosition(level, newRow)\n        };\n      }\n      return goal;\n    }));\n  };\n\n  // Compact goals in a level (remove gaps)\n  const compactLevel = level => {\n    const levelGoals = goals.filter(g => g.level === level).sort((a, b) => a.gridRow - b.gridRow);\n    setGoals(prev => prev.map(goal => {\n      const goalIndex = levelGoals.findIndex(g => g.id === goal.id);\n      if (goalIndex !== -1 && goal.level === level) {\n        return {\n          ...goal,\n          gridRow: goalIndex,\n          position: gridToPosition(level, goalIndex)\n        };\n      }\n      return goal;\n    }));\n  };\n\n  // Initialize with grid positioning\n  const startBreakdown = () => {\n    if (mainGoal.trim()) {\n      const rootGoal = {\n        id: 1,\n        text: mainGoal,\n        completed: false,\n        level: 0,\n        gridRow: 0,\n        parentId: null,\n        position: gridToPosition(0, 0),\n        children: []\n      };\n      setGoals([rootGoal]);\n      setIsStarted(true);\n      setCanvasOffset({\n        x: -(canvasSize.width - 800),\n        y: -(canvasSize.height / 2 - 300)\n      });\n    }\n  };\n\n  // Keyboard handlers\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.code === 'Space' && e.target.tagName !== 'INPUT') {\n        e.preventDefault();\n        setSpacePressed(true);\n      }\n    };\n    const handleKeyUp = e => {\n      if (e.code === 'Space') {\n        e.preventDefault();\n        setSpacePressed(false);\n        setIsPanning(false);\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    window.addEventListener('keyup', handleKeyUp);\n    return () => {\n      window.removeEventListener('keydown', handleKeyDown);\n      window.removeEventListener('keyup', handleKeyUp);\n    };\n  }, []);\n\n  // Pan handlers\n  const handlePanStart = e => {\n    if (spacePressed || e.button === 1) {\n      e.preventDefault();\n      setIsPanning(true);\n      setPanStart({\n        x: e.clientX - canvasOffset.x,\n        y: e.clientY - canvasOffset.y\n      });\n    }\n  };\n  const handlePanMove = useCallback(e => {\n    if (isPanning) {\n      e.preventDefault();\n      setCanvasOffset({\n        x: e.clientX - panStart.x,\n        y: e.clientY - panStart.y\n      });\n    }\n  }, [isPanning, panStart]);\n  const handlePanEnd = () => {\n    setIsPanning(false);\n  };\n  const handleWheel = e => {\n    if (e.shiftKey || Math.abs(e.deltaX) > Math.abs(e.deltaY)) {\n      e.preventDefault();\n      setCanvasOffset(prev => ({\n        x: prev.x - e.deltaX * 2,\n        y: prev.y - e.deltaY * 2\n      }));\n    }\n  };\n  useEffect(() => {\n    if (isPanning) {\n      document.addEventListener('mousemove', handlePanMove);\n      document.addEventListener('mouseup', handlePanEnd);\n      return () => {\n        document.removeEventListener('mousemove', handlePanMove);\n        document.removeEventListener('mouseup', handlePanEnd);\n      };\n    }\n  }, [isPanning, handlePanMove]);\n\n  // Get visible goals based on focus\n  const getVisibleGoals = () => {\n    let visibleGoals = goals.filter(goal => !hiddenLevels.has(goal.level));\n    if (focusedGoal) {\n      const focusedGoalData = goals.find(g => g.id === focusedGoal);\n      if (focusedGoalData) {\n        const relatedGoals = new Set();\n\n        // Add focused goal and its ancestors\n        let current = focusedGoalData;\n        while (current) {\n          relatedGoals.add(current.id);\n          current = goals.find(g => g.id === current.parentId);\n        }\n\n        // Add all descendants\n        const addDescendants = goalId => {\n          const children = goals.filter(g => g.parentId === goalId);\n          children.forEach(child => {\n            relatedGoals.add(child.id);\n            addDescendants(child.id);\n          });\n        };\n        addDescendants(focusedGoal);\n        visibleGoals = visibleGoals.filter(goal => relatedGoals.has(goal.id));\n      }\n    }\n    return visibleGoals;\n  };\n\n  // Connection calculation\n  const calculateConnections = useCallback(() => {\n    const newConnections = [];\n    const visibleGoals = getVisibleGoals();\n    visibleGoals.forEach(goal => {\n      if (goal.parentId) {\n        const parent = goals.find(g => g.id === goal.parentId);\n        if (parent && visibleGoals.includes(parent)) {\n          const startX = parent.position.x;\n          const startY = parent.position.y + GRID.CARD_HEIGHT / 2;\n          const endX = goal.position.x + GRID.CARD_WIDTH;\n          const endY = goal.position.y + GRID.CARD_HEIGHT / 2;\n          newConnections.push({\n            id: `${parent.id}-${goal.id}`,\n            from: {\n              x: startX,\n              y: startY\n            },\n            to: {\n              x: endX,\n              y: endY\n            },\n            completed: goal.completed && parent.completed,\n            path: `M ${startX} ${startY} \n                   C ${startX - 80} ${startY}, \n                     ${endX + 80} ${endY}, \n                     ${endX} ${endY}`\n          });\n        }\n      }\n    });\n    setConnections(newConnections);\n  }, [goals, hiddenLevels, focusedGoal]);\n  useEffect(() => {\n    calculateConnections();\n  }, [calculateConnections]);\n\n  // Add sub-goal with grid positioning\n  const addSubGoal = parentId => {\n    const parent = goals.find(g => g.id === parentId);\n    if (!parent) return;\n    const newId = Math.max(0, ...goals.map(g => g.id)) + 1;\n    const newLevel = parent.level + 1;\n    const newRow = getNextRowForLevel(newLevel);\n    const newPosition = gridToPosition(newLevel, newRow);\n    const newGoal = {\n      id: newId,\n      text: '',\n      completed: false,\n      level: newLevel,\n      gridRow: newRow,\n      parentId: parentId,\n      position: newPosition,\n      isEditing: true,\n      children: []\n    };\n    setGoals(prev => [...prev, newGoal]);\n  };\n\n  // Grid-based drag handlers\n  const handleDragStart = (e, goal) => {\n    if (goal.isEditing || isPanning) return;\n    setDraggedGoal(goal);\n    const rect = e.currentTarget.getBoundingClientRect();\n    setDragOffset({\n      x: e.clientX - rect.left,\n      y: e.clientY - rect.top\n    });\n  };\n  const handleDrag = useCallback(e => {\n    if (!draggedGoal || !canvasRef.current || isPanning) return;\n    const canvasRect = canvasRef.current.getBoundingClientRect();\n    const mouseX = e.clientX - canvasRect.left - canvasOffset.x - dragOffset.x;\n    const mouseY = e.clientY - canvasRect.top - canvasOffset.y - dragOffset.y;\n    const proposedPosition = {\n      x: Math.max(0, Math.min(canvasSize.width - GRID.CARD_WIDTH, mouseX)),\n      y: Math.max(0, Math.min(canvasSize.height - GRID.CARD_HEIGHT, mouseY))\n    };\n\n    // Convert to grid coordinates and snap\n    const gridCoords = positionToGrid(proposedPosition);\n    const snappedPosition = gridToPosition(gridCoords.level, gridCoords.row);\n    setGoals(prev => prev.map(goal => goal.id === draggedGoal.id ? {\n      ...goal,\n      position: snappedPosition,\n      level: gridCoords.level,\n      gridRow: gridCoords.row\n    } : goal));\n  }, [draggedGoal, dragOffset, canvasSize, canvasOffset, isPanning]);\n  const handleDragEnd = () => {\n    if (draggedGoal) {\n      const draggedGoalData = goals.find(g => g.id === draggedGoal.id);\n      if (draggedGoalData) {\n        // Check if there's another goal at this position\n        const conflictingGoal = goals.find(g => g.id !== draggedGoal.id && g.level === draggedGoalData.level && g.gridRow === draggedGoalData.gridRow);\n        if (conflictingGoal) {\n          // Shift the conflicting goal and others down\n          shiftGoalsDown(draggedGoalData.level, draggedGoalData.gridRow, draggedGoal.id);\n        }\n\n        // Compact the original level if the dragged goal moved levels\n        if (draggedGoalData.level !== draggedGoal.level) {\n          compactLevel(draggedGoal.level);\n        }\n      }\n    }\n    setDraggedGoal(null);\n  };\n  useEffect(() => {\n    if (draggedGoal && !isPanning) {\n      document.addEventListener('mousemove', handleDrag);\n      document.addEventListener('mouseup', handleDragEnd);\n      return () => {\n        document.removeEventListener('mousemove', handleDrag);\n        document.removeEventListener('mouseup', handleDragEnd);\n      };\n    }\n  }, [draggedGoal, handleDrag, isPanning]);\n  const updateGoal = (id, text) => {\n    setGoals(goals.map(goal => goal.id === id ? {\n      ...goal,\n      text,\n      isEditing: false\n    } : goal));\n  };\n  const startEditing = id => {\n    setGoals(goals.map(goal => goal.id === id ? {\n      ...goal,\n      isEditing: true\n    } : goal));\n  };\n  const toggleComplete = id => {\n    setGoals(goals.map(goal => goal.id === id ? {\n      ...goal,\n      completed: !goal.completed\n    } : goal));\n  };\n  const deleteGoal = id => {\n    const goalToDelete = goals.find(g => g.id === id);\n    if (goalToDelete) {\n      setGoals(goals.filter(goal => goal.id !== id && goal.parentId !== id));\n      // Compact the level after deletion\n      setTimeout(() => compactLevel(goalToDelete.level), 50);\n    }\n  };\n  const toggleFocus = goalId => {\n    setFocusedGoal(focusedGoal === goalId ? null : goalId);\n  };\n  const reset = () => {\n    setGoals([]);\n    setMainGoal('');\n    setIsStarted(false);\n    setConnections([]);\n    setHiddenLevels(new Set());\n    setFocusedGoal(null);\n    setCanvasOffset({\n      x: 0,\n      y: 0\n    });\n  };\n  const toggleLevelVisibility = level => {\n    const newHidden = new Set(hiddenLevels);\n    if (newHidden.has(level)) {\n      newHidden.delete(level);\n    } else {\n      newHidden.add(level);\n    }\n    setHiddenLevels(newHidden);\n  };\n  const getLevelStats = level => {\n    const levelGoals = goals.filter(g => g.level === level);\n    const completed = levelGoals.filter(g => g.completed).length;\n    return {\n      total: levelGoals.length,\n      completed\n    };\n  };\n  const getLevelLabel = level => {\n    if (level === 0) return '🎯 Ultimate Goal';\n    const labels = ['📋 Strategy', '🎯 Tactics', '⚡ Actions', '📝 Tasks', '✅ Steps', '🔍 Details', '💡 Micro'];\n    return labels[level - 1] || `📌 Level ${level}`;\n  };\n  const existingLevels = [...new Set(goals.map(g => g.level))].sort((a, b) => a - b);\n  const getGoalStyle = goal => {\n    const levelStyle = getLevelStyle(goal.level, goal.completed);\n    const baseStyle = \"absolute rounded-xl shadow-lg transition-all duration-300 hover:shadow-xl hover:scale-[1.02] select-none\";\n    const cursorStyle = isPanning ? 'cursor-grab' : goal.isEditing ? 'cursor-text' : 'cursor-move';\n    return `${baseStyle} ${levelStyle.bg} ${levelStyle.border} ${levelStyle.borderWidth} ${cursorStyle}`;\n  };\n  if (!isStarted) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gradient-to-br from-slate-100 to-blue-100 flex items-center justify-center p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full transform transition-all duration-500 hover:scale-105\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(Target, {\n            className: \"mx-auto mb-4 text-yellow-600\",\n            size: 64\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-4xl font-bold text-gray-800 mb-2\",\n            children: \"Fluid Goals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"Interactive mindmap-style goal breakdown\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mt-2\",\n            children: \"\\u2728 Work backwards from your ultimate goal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 477,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 473,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: mainGoal,\n            onChange: e => setMainGoal(e.target.value),\n            placeholder: \"What's your ultimate goal?\",\n            className: \"w-full p-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all duration-300 text-lg\",\n            onKeyDown: e => e.key === 'Enter' && startBreakdown()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: startBreakdown,\n            disabled: !mainGoal.trim(),\n            className: \"w-full bg-gradient-to-r from-yellow-500 to-orange-500 text-white p-4 rounded-xl font-bold text-lg hover:from-yellow-600 hover:to-orange-600 disabled:from-gray-300 disabled:to-gray-300 transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-lg\",\n            children: \"Create Goal Map\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-200 shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center px-6 py-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(Target, {\n              className: \"text-yellow-600\",\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 508,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-xl font-bold text-gray-800\",\n              children: \"Fluid Goal Breakdown\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 509,\n              columnNumber: 15\n            }, this), focusedGoal && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium\",\n              children: \"Focus Mode Active\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 13\n          }, this), existingLevels.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-2 bg-white rounded-xl p-2 shadow-lg border border-gray-200\",\n            children: existingLevels.map(level => {\n              const stats = getLevelStats(level);\n              const isHidden = hiddenLevels.has(level);\n              const levelStyle = getLevelStyle(level, false);\n              return /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => toggleLevelVisibility(level),\n                className: `flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all duration-300 transform hover:scale-105 text-sm ${isHidden ? 'bg-gray-200 text-gray-600 hover:bg-gray-300' : `${levelStyle.bg} ${levelStyle.color} ${levelStyle.border} ${levelStyle.borderWidth}`}`,\n                children: [isHidden ? /*#__PURE__*/_jsxDEV(EyeOff, {\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 535,\n                  columnNumber: 35\n                }, this) : /*#__PURE__*/_jsxDEV(Eye, {\n                  size: 12\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 535,\n                  columnNumber: 58\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: getLevelLabel(level)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xs bg-white px-2 py-0.5 rounded-full\",\n                  children: [stats.completed, \"/\", stats.total]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 537,\n                  columnNumber: 23\n                }, this)]\n              }, level, true, {\n                fileName: _jsxFileName,\n                lineNumber: 526,\n                columnNumber: 21\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full\",\n            children: [goals.filter(g => g.completed).length, \" / \", goals.length, \" completed\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 548,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded\",\n            children: spacePressed ? '🖱️ Pan Mode' : 'Hold Space + Drag to Pan'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: reset,\n            className: \"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors\",\n            children: \"Reset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 554,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: canvasRef,\n      className: `relative w-full h-screen overflow-hidden ${isPanning ? 'cursor-grabbing' : spacePressed ? 'cursor-grab' : 'cursor-default'}`,\n      style: {\n        marginTop: '80px'\n      },\n      onMouseDown: handlePanStart,\n      onWheel: handleWheel,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0\",\n        style: {\n          transform: `translate(${canvasOffset.x}px, ${canvasOffset.y}px)`,\n          width: canvasSize.width,\n          height: canvasSize.height,\n          backgroundImage: `radial-gradient(circle at 1px 1px, rgba(0,0,0,0.1) 1px, transparent 0)`,\n          backgroundSize: '20px 20px'\n        },\n        children: [false && /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"absolute top-0 left-0 w-full h-full pointer-events-none z-0 opacity-20\",\n          style: {\n            width: canvasSize.width,\n            height: canvasSize.height\n          },\n          children: [Array.from({\n            length: 8\n          }).map((_, i) => /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: canvasSize.width - i * GRID.COLUMN_WIDTH,\n            y1: 0,\n            x2: canvasSize.width - i * GRID.COLUMN_WIDTH,\n            y2: canvasSize.height,\n            stroke: \"#e5e7eb\",\n            strokeWidth: \"1\",\n            strokeDasharray: \"5,5\"\n          }, `v-${i}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 590,\n            columnNumber: 17\n          }, this)), Array.from({\n            length: 15\n          }).map((_, i) => /*#__PURE__*/_jsxDEV(\"line\", {\n            x1: 0,\n            y1: GRID.MARGIN + i * GRID.ROW_HEIGHT,\n            x2: canvasSize.width,\n            y2: GRID.MARGIN + i * GRID.ROW_HEIGHT,\n            stroke: \"#e5e7eb\",\n            strokeWidth: \"1\",\n            strokeDasharray: \"5,5\"\n          }, `h-${i}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 603,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"absolute top-0 left-0 w-full h-full pointer-events-none z-0\",\n          style: {\n            width: canvasSize.width,\n            height: canvasSize.height\n          },\n          children: connections.map(conn => /*#__PURE__*/_jsxDEV(\"g\", {\n            children: [/*#__PURE__*/_jsxDEV(\"path\", {\n              d: conn.path,\n              stroke: conn.completed ? '#10b981' : '#6b7280',\n              strokeWidth: \"3\",\n              fill: \"none\",\n              className: \"transition-all duration-300\",\n              strokeDasharray: conn.completed ? '0' : '5,5'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 624,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: conn.from.x,\n              cy: conn.from.y,\n              r: \"4\",\n              fill: conn.completed ? '#10b981' : '#6b7280'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: conn.to.x,\n              cy: conn.to.y,\n              r: \"4\",\n              fill: conn.completed ? '#10b981' : '#6b7280'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 638,\n              columnNumber: 17\n            }, this)]\n          }, conn.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 623,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 11\n        }, this), getVisibleGoals().map(goal => {\n          const hasChildren = goals.filter(g => g.parentId === goal.id).length > 0;\n          const isFocused = focusedGoal === goal.id;\n          const levelStyle = getLevelStyle(goal.level, goal.completed);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${getGoalStyle(goal)} p-4 z-10 group ${isFocused ? 'ring-2 ring-blue-500 ring-offset-2' : ''}`,\n            style: {\n              left: goal.position.x,\n              top: goal.position.y,\n              width: GRID.CARD_WIDTH,\n              height: GRID.CARD_HEIGHT,\n              transform: (draggedGoal === null || draggedGoal === void 0 ? void 0 : draggedGoal.id) === goal.id ? 'rotate(1deg) scale(1.03)' : 'none',\n              zIndex: (draggedGoal === null || draggedGoal === void 0 ? void 0 : draggedGoal.id) === goal.id ? 20 : 10,\n              pointerEvents: isPanning ? 'none' : 'auto'\n            },\n            onMouseDown: e => !isPanning && handleDragStart(e, goal),\n            children: goal.isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              defaultValue: goal.text,\n              className: \"w-full h-full p-3 border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-lg resize-none\",\n              placeholder: \"Enter goal...\",\n              autoFocus: true,\n              onKeyDown: e => {\n                if (e.key === 'Enter' && e.target.value.trim()) {\n                  updateGoal(goal.id, e.target.value);\n                }\n              },\n              onBlur: e => {\n                if (e.target.value.trim()) {\n                  updateGoal(goal.id, e.target.value);\n                } else {\n                  deleteGoal(goal.id);\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 670,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-start gap-3 mb-3\",\n                children: [goal.level === 0 && /*#__PURE__*/_jsxDEV(Target, {\n                  className: \"text-yellow-600 mt-1 flex-shrink-0\",\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 693,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `flex-1 text-sm font-medium leading-relaxed cursor-pointer hover:bg-black/5 p-1 rounded transition-colors ${goal.completed ? 'line-through' : ''} ${goal.level === 0 ? 'text-lg font-bold' : ''} ${levelStyle.color}`,\n                  onClick: () => startEditing(goal.id),\n                  title: \"Click to edit\",\n                  children: goal.text || 'Click to add text...'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 695,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\",\n                  children: [/*#__PURE__*/_jsxDEV(Edit3, {\n                    className: \"text-gray-400\",\n                    size: 12\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 705,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(Move, {\n                    className: \"text-gray-400\",\n                    size: 14\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 706,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 704,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 691,\n                columnNumber: 21\n              }, this), hasChildren && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mb-3\",\n                children: (() => {\n                  const children = goals.filter(g => g.parentId === goal.id);\n                  const completed = children.filter(g => g.completed).length;\n                  const total = children.length;\n                  const percentage = total > 0 ? completed / total * 100 : 0;\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"space-y-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex justify-between text-xs text-gray-600\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [completed, \"/\", total, \" subtasks\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 722,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: [Math.round(percentage), \"%\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 723,\n                        columnNumber: 33\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 721,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"w-full bg-gray-200 rounded-full h-1.5\",\n                      children: /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"bg-gradient-to-r from-green-500 to-green-400 h-1.5 rounded-full transition-all duration-500 ease-out\",\n                        style: {\n                          width: `${percentage}%`\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 726,\n                        columnNumber: 33\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 725,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 720,\n                    columnNumber: 29\n                  }, this);\n                })()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 712,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-center gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => addSubGoal(goal.id),\n                  className: \"flex items-center gap-1 bg-gradient-to-r from-purple-500 to-blue-500 text-white px-3 py-1.5 rounded-lg hover:from-purple-600 hover:to-blue-600 text-sm font-medium transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-md\",\n                  children: [/*#__PURE__*/_jsxDEV(Plus, {\n                    size: 14\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 742,\n                    columnNumber: 25\n                  }, this), \"Break Down\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 738,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex gap-1.5\",\n                  children: [goal.level > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => toggleFocus(goal.id),\n                    className: `p-1.5 rounded-lg transition-all duration-300 transform hover:scale-110 active:scale-95 shadow-sm ${isFocused ? 'bg-blue-500 text-white shadow-blue-200' : 'bg-white text-blue-600 hover:bg-blue-100 border border-blue-400'}`,\n                    title: isFocused ? 'Exit focus mode' : 'Focus on this branch',\n                    children: /*#__PURE__*/_jsxDEV(Focus, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 757,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 748,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => toggleComplete(goal.id),\n                    className: `p-1.5 rounded-lg transition-all duration-300 transform hover:scale-110 active:scale-95 shadow-sm ${goal.completed ? 'bg-green-500 text-white shadow-green-200' : 'bg-white text-green-600 hover:bg-green-100 border border-green-400'}`,\n                    children: /*#__PURE__*/_jsxDEV(Check, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 769,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 761,\n                    columnNumber: 25\n                  }, this), goal.level > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => deleteGoal(goal.id),\n                    className: \"p-1.5 rounded-lg bg-white text-red-600 hover:bg-red-100 border border-red-400 transition-all duration-300 transform hover:scale-110 active:scale-95 shadow-sm\",\n                    children: /*#__PURE__*/_jsxDEV(X, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 777,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 773,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 746,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 737,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)\n          }, goal.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 15\n          }, this);\n        }), goals.length === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-20 left-20 bg-yellow-100 border-2 border-yellow-300 rounded-xl p-4 max-w-sm shadow-lg\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-start gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(Target, {\n              className: \"text-yellow-600 mt-1\",\n              size: 20\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 792,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"font-semibold text-yellow-800 mb-2\",\n                children: \"Grid-Based Goal Layout \\uD83C\\uDFA8\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 794,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"text-sm text-yellow-700 space-y-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Perfect grid alignment\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 796,\n                    columnNumber: 27\n                  }, this), \" - no overlaps\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 796,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Drag to move rows\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 797,\n                    columnNumber: 27\n                  }, this), \" - others shift automatically\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 797,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Border thickness\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 798,\n                    columnNumber: 27\n                  }, this), \" increases with level importance\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 798,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Green fill\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 799,\n                    columnNumber: 27\n                  }, this), \" shows completed goals\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 799,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"\\u2022 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Space + Drag\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 800,\n                    columnNumber: 27\n                  }, this), \" to pan around\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 800,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 795,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 793,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 791,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 790,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 572,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 565,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 502,\n    columnNumber: 5\n  }, this);\n};\n_s(FluidGoalBreakdown, \"tZA4fHsBw9XrPKw7jjavh6RK02Y=\");\n_c = FluidGoalBreakdown;\nexport default FluidGoalBreakdown;\nvar _c;\n$RefreshReg$(_c, \"FluidGoalBreakdown\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","Plus","Check","X","Target","Edit3","Move","Eye","EyeOff","Focus","jsxDEV","_jsxDEV","Fragment","_Fragment","FluidGoalBreakdown","_s","goals","setGoals","mainGoal","setMainGoal","isStarted","setIsStarted","draggedGoal","setDraggedGoal","dragOffset","setDragOffset","x","y","connections","setConnections","hiddenLevels","setHiddenLevels","Set","focusedGoal","setFocusedGoal","canvasOffset","setCanvasOffset","isPanning","setIsPanning","panStart","setPanStart","spacePressed","setSpacePressed","canvasRef","canvasSize","setCanvasSize","width","height","GRID","COLUMN_WIDTH","ROW_HEIGHT","CARD_WIDTH","CARD_HEIGHT","MARGIN","getLevelStyle","level","completed","levelStyles","border","borderWidth","color","style","Math","min","length","bg","gridToPosition","row","max","positionToGrid","position","round","getNextRowForLevel","levelGoals","filter","g","occupiedRows","map","gridRow","sort","a","b","nextRow","shiftGoalsDown","fromRow","excludeId","prev","goal","id","newRow","compactLevel","goalIndex","findIndex","startBreakdown","trim","rootGoal","text","parentId","children","handleKeyDown","e","code","target","tagName","preventDefault","handleKeyUp","window","addEventListener","removeEventListener","handlePanStart","button","clientX","clientY","handlePanMove","handlePanEnd","handleWheel","shiftKey","abs","deltaX","deltaY","document","getVisibleGoals","visibleGoals","has","focusedGoalData","find","relatedGoals","current","add","addDescendants","goalId","forEach","child","calculateConnections","newConnections","parent","includes","startX","startY","endX","endY","push","from","to","path","addSubGoal","newId","newLevel","newPosition","newGoal","isEditing","handleDragStart","rect","currentTarget","getBoundingClientRect","left","top","handleDrag","canvasRect","mouseX","mouseY","proposedPosition","gridCoords","snappedPosition","handleDragEnd","draggedGoalData","conflictingGoal","updateGoal","startEditing","toggleComplete","deleteGoal","goalToDelete","setTimeout","toggleFocus","reset","toggleLevelVisibility","newHidden","delete","getLevelStats","total","getLevelLabel","labels","existingLevels","getGoalStyle","levelStyle","baseStyle","cursorStyle","className","size","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","placeholder","onKeyDown","key","onClick","disabled","stats","isHidden","ref","marginTop","onMouseDown","onWheel","transform","backgroundImage","backgroundSize","Array","_","i","x1","y1","x2","y2","stroke","strokeWidth","strokeDasharray","conn","d","fill","cx","cy","r","hasChildren","isFocused","zIndex","pointerEvents","defaultValue","autoFocus","onBlur","title","percentage","_c","$RefreshReg$"],"sources":["C:/apps/goal-breaker/src/components/GoalBreakdown/index.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport { Plus, Check, X, Target, Edit3, Move, Eye, EyeOff, Focus } from 'lucide-react';\r\n\r\nconst FluidGoalBreakdown = () => {\r\n  const [goals, setGoals] = useState([]);\r\n  const [mainGoal, setMainGoal] = useState('');\r\n  const [isStarted, setIsStarted] = useState(false);\r\n  const [draggedGoal, setDraggedGoal] = useState(null);\r\n  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });\r\n  const [connections, setConnections] = useState([]);\r\n  const [hiddenLevels, setHiddenLevels] = useState(new Set());\r\n  const [focusedGoal, setFocusedGoal] = useState(null);\r\n  const [canvasOffset, setCanvasOffset] = useState({ x: 0, y: 0 });\r\n  const [isPanning, setIsPanning] = useState(false);\r\n  const [panStart, setPanStart] = useState({ x: 0, y: 0 });\r\n  const [spacePressed, setSpacePressed] = useState(false);\r\n  const canvasRef = useRef(null);\r\n  const [canvasSize, setCanvasSize] = useState({ width: 2000, height: 1200 });\r\n\r\n  // Grid system constants\r\n  const GRID = {\r\n    COLUMN_WIDTH: 400,\r\n    ROW_HEIGHT: 140,\r\n    CARD_WIDTH: 320,\r\n    CARD_HEIGHT: 120,\r\n    MARGIN: 40\r\n  };\r\n\r\n  // Level styling system - borders only, intensity increases with level\r\n  const getLevelStyle = (level, completed) => {\r\n    const levelStyles = [\r\n      { border: 'border-yellow-400', borderWidth: 'border-4', color: 'text-yellow-600' }, // Ultimate goal\r\n      { border: 'border-blue-300', borderWidth: 'border-2', color: 'text-blue-500' },\r\n      { border: 'border-purple-400', borderWidth: 'border-[3px]', color: 'text-purple-600' },\r\n      { border: 'border-green-400', borderWidth: 'border-[3px]', color: 'text-green-600' },\r\n      { border: 'border-orange-400', borderWidth: 'border-[4px]', color: 'text-orange-600' },\r\n      { border: 'border-pink-400', borderWidth: 'border-[4px]', color: 'text-pink-600' },\r\n      { border: 'border-red-400', borderWidth: 'border-[4px]', color: 'text-red-600' },\r\n      { border: 'border-indigo-500', borderWidth: 'border-[5px]', color: 'text-indigo-700' }\r\n    ];\r\n    \r\n    const style = levelStyles[Math.min(level, levelStyles.length - 1)];\r\n    \r\n    if (completed) {\r\n      return {\r\n        border: 'border-green-500',\r\n        borderWidth: style.borderWidth,\r\n        bg: 'bg-green-100',\r\n        color: 'text-green-800'\r\n      };\r\n    }\r\n    \r\n    return {\r\n      border: style.border,\r\n      borderWidth: style.borderWidth,\r\n      bg: 'bg-white',\r\n      color: style.color\r\n    };\r\n  };\r\n\r\n  // Convert grid coordinates to pixel position\r\n  const gridToPosition = (level, row) => {\r\n    const x = canvasSize.width - GRID.MARGIN - (level * GRID.COLUMN_WIDTH) - GRID.CARD_WIDTH;\r\n    const y = GRID.MARGIN + (row * GRID.ROW_HEIGHT);\r\n    return {\r\n      x: Math.max(GRID.MARGIN, x),\r\n      y: Math.max(GRID.MARGIN, y)\r\n    };\r\n  };\r\n\r\n  // Convert pixel position to grid coordinates\r\n  const positionToGrid = (position) => {\r\n    const level = Math.max(0, Math.round((canvasSize.width - position.x - GRID.CARD_WIDTH - GRID.MARGIN) / GRID.COLUMN_WIDTH));\r\n    const row = Math.max(0, Math.round((position.y - GRID.MARGIN) / GRID.ROW_HEIGHT));\r\n    return { level, row };\r\n  };\r\n\r\n  // Get next available row for a level\r\n  const getNextRowForLevel = (level) => {\r\n    const levelGoals = goals.filter(g => g.level === level);\r\n    if (levelGoals.length === 0) return 0;\r\n    \r\n    const occupiedRows = levelGoals.map(g => g.gridRow).sort((a, b) => a - b);\r\n    let nextRow = 0;\r\n    for (const row of occupiedRows) {\r\n      if (row === nextRow) {\r\n        nextRow++;\r\n      } else {\r\n        break;\r\n      }\r\n    }\r\n    return nextRow;\r\n  };\r\n\r\n  // Shift goals in a level when inserting at specific row\r\n  const shiftGoalsDown = (level, fromRow, excludeId = null) => {\r\n    setGoals(prev => prev.map(goal => {\r\n      if (goal.level === level && goal.gridRow >= fromRow && goal.id !== excludeId) {\r\n        const newRow = goal.gridRow + 1;\r\n        return {\r\n          ...goal,\r\n          gridRow: newRow,\r\n          position: gridToPosition(level, newRow)\r\n        };\r\n      }\r\n      return goal;\r\n    }));\r\n  };\r\n\r\n  // Compact goals in a level (remove gaps)\r\n  const compactLevel = (level) => {\r\n    const levelGoals = goals\r\n      .filter(g => g.level === level)\r\n      .sort((a, b) => a.gridRow - b.gridRow);\r\n    \r\n    setGoals(prev => prev.map(goal => {\r\n      const goalIndex = levelGoals.findIndex(g => g.id === goal.id);\r\n      if (goalIndex !== -1 && goal.level === level) {\r\n        return {\r\n          ...goal,\r\n          gridRow: goalIndex,\r\n          position: gridToPosition(level, goalIndex)\r\n        };\r\n      }\r\n      return goal;\r\n    }));\r\n  };\r\n\r\n  // Initialize with grid positioning\r\n  const startBreakdown = () => {\r\n    if (mainGoal.trim()) {\r\n      const rootGoal = {\r\n        id: 1,\r\n        text: mainGoal,\r\n        completed: false,\r\n        level: 0,\r\n        gridRow: 0,\r\n        parentId: null,\r\n        position: gridToPosition(0, 0),\r\n        children: []\r\n      };\r\n      setGoals([rootGoal]);\r\n      setIsStarted(true);\r\n      setCanvasOffset({ \r\n        x: -(canvasSize.width - 800), \r\n        y: -(canvasSize.height / 2 - 300) \r\n      });\r\n    }\r\n  };\r\n\r\n  // Keyboard handlers\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      if (e.code === 'Space' && e.target.tagName !== 'INPUT') {\r\n        e.preventDefault();\r\n        setSpacePressed(true);\r\n      }\r\n    };\r\n\r\n    const handleKeyUp = (e) => {\r\n      if (e.code === 'Space') {\r\n        e.preventDefault();\r\n        setSpacePressed(false);\r\n        setIsPanning(false);\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    window.addEventListener('keyup', handleKeyUp);\r\n    \r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n      window.removeEventListener('keyup', handleKeyUp);\r\n    };\r\n  }, []);\r\n\r\n  // Pan handlers\r\n  const handlePanStart = (e) => {\r\n    if (spacePressed || e.button === 1) {\r\n      e.preventDefault();\r\n      setIsPanning(true);\r\n      setPanStart({ x: e.clientX - canvasOffset.x, y: e.clientY - canvasOffset.y });\r\n    }\r\n  };\r\n\r\n  const handlePanMove = useCallback((e) => {\r\n    if (isPanning) {\r\n      e.preventDefault();\r\n      setCanvasOffset({\r\n        x: e.clientX - panStart.x,\r\n        y: e.clientY - panStart.y\r\n      });\r\n    }\r\n  }, [isPanning, panStart]);\r\n\r\n  const handlePanEnd = () => {\r\n    setIsPanning(false);\r\n  };\r\n\r\n  const handleWheel = (e) => {\r\n    if (e.shiftKey || Math.abs(e.deltaX) > Math.abs(e.deltaY)) {\r\n      e.preventDefault();\r\n      setCanvasOffset(prev => ({\r\n        x: prev.x - e.deltaX * 2,\r\n        y: prev.y - e.deltaY * 2\r\n      }));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isPanning) {\r\n      document.addEventListener('mousemove', handlePanMove);\r\n      document.addEventListener('mouseup', handlePanEnd);\r\n      return () => {\r\n        document.removeEventListener('mousemove', handlePanMove);\r\n        document.removeEventListener('mouseup', handlePanEnd);\r\n      };\r\n    }\r\n  }, [isPanning, handlePanMove]);\r\n\r\n  // Get visible goals based on focus\r\n  const getVisibleGoals = () => {\r\n    let visibleGoals = goals.filter(goal => !hiddenLevels.has(goal.level));\r\n    \r\n    if (focusedGoal) {\r\n      const focusedGoalData = goals.find(g => g.id === focusedGoal);\r\n      if (focusedGoalData) {\r\n        const relatedGoals = new Set();\r\n        \r\n        // Add focused goal and its ancestors\r\n        let current = focusedGoalData;\r\n        while (current) {\r\n          relatedGoals.add(current.id);\r\n          current = goals.find(g => g.id === current.parentId);\r\n        }\r\n        \r\n        // Add all descendants\r\n        const addDescendants = (goalId) => {\r\n          const children = goals.filter(g => g.parentId === goalId);\r\n          children.forEach(child => {\r\n            relatedGoals.add(child.id);\r\n            addDescendants(child.id);\r\n          });\r\n        };\r\n        addDescendants(focusedGoal);\r\n        \r\n        visibleGoals = visibleGoals.filter(goal => relatedGoals.has(goal.id));\r\n      }\r\n    }\r\n    \r\n    return visibleGoals;\r\n  };\r\n\r\n  // Connection calculation\r\n  const calculateConnections = useCallback(() => {\r\n    const newConnections = [];\r\n    const visibleGoals = getVisibleGoals();\r\n    \r\n    visibleGoals.forEach(goal => {\r\n      if (goal.parentId) {\r\n        const parent = goals.find(g => g.id === goal.parentId);\r\n        \r\n        if (parent && visibleGoals.includes(parent)) {\r\n          const startX = parent.position.x;\r\n          const startY = parent.position.y + (GRID.CARD_HEIGHT / 2);\r\n          const endX = goal.position.x + GRID.CARD_WIDTH;\r\n          const endY = goal.position.y + (GRID.CARD_HEIGHT / 2);\r\n          \r\n          newConnections.push({\r\n            id: `${parent.id}-${goal.id}`,\r\n            from: { x: startX, y: startY },\r\n            to: { x: endX, y: endY },\r\n            completed: goal.completed && parent.completed,\r\n            path: `M ${startX} ${startY} \r\n                   C ${startX - 80} ${startY}, \r\n                     ${endX + 80} ${endY}, \r\n                     ${endX} ${endY}`\r\n          });\r\n        }\r\n      }\r\n    });\r\n    \r\n    setConnections(newConnections);\r\n  }, [goals, hiddenLevels, focusedGoal]);\r\n\r\n  useEffect(() => {\r\n    calculateConnections();\r\n  }, [calculateConnections]);\r\n\r\n  // Add sub-goal with grid positioning\r\n  const addSubGoal = (parentId) => {\r\n    const parent = goals.find(g => g.id === parentId);\r\n    if (!parent) return;\r\n\r\n    const newId = Math.max(0, ...goals.map(g => g.id)) + 1;\r\n    const newLevel = parent.level + 1;\r\n    const newRow = getNextRowForLevel(newLevel);\r\n    const newPosition = gridToPosition(newLevel, newRow);\r\n\r\n    const newGoal = {\r\n      id: newId,\r\n      text: '',\r\n      completed: false,\r\n      level: newLevel,\r\n      gridRow: newRow,\r\n      parentId: parentId,\r\n      position: newPosition,\r\n      isEditing: true,\r\n      children: []\r\n    };\r\n\r\n    setGoals(prev => [...prev, newGoal]);\r\n  };\r\n\r\n  // Grid-based drag handlers\r\n  const handleDragStart = (e, goal) => {\r\n    if (goal.isEditing || isPanning) return;\r\n    setDraggedGoal(goal);\r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    setDragOffset({\r\n      x: e.clientX - rect.left,\r\n      y: e.clientY - rect.top\r\n    });\r\n  };\r\n\r\n  const handleDrag = useCallback((e) => {\r\n    if (!draggedGoal || !canvasRef.current || isPanning) return;\r\n    \r\n    const canvasRect = canvasRef.current.getBoundingClientRect();\r\n    const mouseX = (e.clientX - canvasRect.left - canvasOffset.x) - dragOffset.x;\r\n    const mouseY = (e.clientY - canvasRect.top - canvasOffset.y) - dragOffset.y;\r\n\r\n    const proposedPosition = {\r\n      x: Math.max(0, Math.min(canvasSize.width - GRID.CARD_WIDTH, mouseX)),\r\n      y: Math.max(0, Math.min(canvasSize.height - GRID.CARD_HEIGHT, mouseY))\r\n    };\r\n\r\n    // Convert to grid coordinates and snap\r\n    const gridCoords = positionToGrid(proposedPosition);\r\n    const snappedPosition = gridToPosition(gridCoords.level, gridCoords.row);\r\n\r\n    setGoals(prev => prev.map(goal => \r\n      goal.id === draggedGoal.id \r\n        ? { \r\n            ...goal, \r\n            position: snappedPosition,\r\n            level: gridCoords.level,\r\n            gridRow: gridCoords.row\r\n          }\r\n        : goal\r\n    ));\r\n  }, [draggedGoal, dragOffset, canvasSize, canvasOffset, isPanning]);\r\n\r\n  const handleDragEnd = () => {\r\n    if (draggedGoal) {\r\n      const draggedGoalData = goals.find(g => g.id === draggedGoal.id);\r\n      if (draggedGoalData) {\r\n        // Check if there's another goal at this position\r\n        const conflictingGoal = goals.find(g => \r\n          g.id !== draggedGoal.id && \r\n          g.level === draggedGoalData.level && \r\n          g.gridRow === draggedGoalData.gridRow\r\n        );\r\n\r\n        if (conflictingGoal) {\r\n          // Shift the conflicting goal and others down\r\n          shiftGoalsDown(draggedGoalData.level, draggedGoalData.gridRow, draggedGoal.id);\r\n        }\r\n\r\n        // Compact the original level if the dragged goal moved levels\r\n        if (draggedGoalData.level !== draggedGoal.level) {\r\n          compactLevel(draggedGoal.level);\r\n        }\r\n      }\r\n    }\r\n    setDraggedGoal(null);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (draggedGoal && !isPanning) {\r\n      document.addEventListener('mousemove', handleDrag);\r\n      document.addEventListener('mouseup', handleDragEnd);\r\n      return () => {\r\n        document.removeEventListener('mousemove', handleDrag);\r\n        document.removeEventListener('mouseup', handleDragEnd);\r\n      };\r\n    }\r\n  }, [draggedGoal, handleDrag, isPanning]);\r\n\r\n  const updateGoal = (id, text) => {\r\n    setGoals(goals.map(goal => \r\n      goal.id === id \r\n        ? { ...goal, text, isEditing: false }\r\n        : goal\r\n    ));\r\n  };\r\n\r\n  const startEditing = (id) => {\r\n    setGoals(goals.map(goal => \r\n      goal.id === id \r\n        ? { ...goal, isEditing: true }\r\n        : goal\r\n    ));\r\n  };\r\n\r\n  const toggleComplete = (id) => {\r\n    setGoals(goals.map(goal => \r\n      goal.id === id \r\n        ? { ...goal, completed: !goal.completed }\r\n        : goal\r\n    ));\r\n  };\r\n\r\n  const deleteGoal = (id) => {\r\n    const goalToDelete = goals.find(g => g.id === id);\r\n    if (goalToDelete) {\r\n      setGoals(goals.filter(goal => goal.id !== id && goal.parentId !== id));\r\n      // Compact the level after deletion\r\n      setTimeout(() => compactLevel(goalToDelete.level), 50);\r\n    }\r\n  };\r\n\r\n  const toggleFocus = (goalId) => {\r\n    setFocusedGoal(focusedGoal === goalId ? null : goalId);\r\n  };\r\n\r\n  const reset = () => {\r\n    setGoals([]);\r\n    setMainGoal('');\r\n    setIsStarted(false);\r\n    setConnections([]);\r\n    setHiddenLevels(new Set());\r\n    setFocusedGoal(null);\r\n    setCanvasOffset({ x: 0, y: 0 });\r\n  };\r\n\r\n  const toggleLevelVisibility = (level) => {\r\n    const newHidden = new Set(hiddenLevels);\r\n    if (newHidden.has(level)) {\r\n      newHidden.delete(level);\r\n    } else {\r\n      newHidden.add(level);\r\n    }\r\n    setHiddenLevels(newHidden);\r\n  };\r\n\r\n  const getLevelStats = (level) => {\r\n    const levelGoals = goals.filter(g => g.level === level);\r\n    const completed = levelGoals.filter(g => g.completed).length;\r\n    return { total: levelGoals.length, completed };\r\n  };\r\n\r\n  const getLevelLabel = (level) => {\r\n    if (level === 0) return '🎯 Ultimate Goal';\r\n    const labels = ['📋 Strategy', '🎯 Tactics', '⚡ Actions', '📝 Tasks', '✅ Steps', '🔍 Details', '💡 Micro'];\r\n    return labels[level - 1] || `📌 Level ${level}`;\r\n  };\r\n\r\n  const existingLevels = [...new Set(goals.map(g => g.level))].sort((a, b) => a - b);\r\n\r\n  const getGoalStyle = (goal) => {\r\n    const levelStyle = getLevelStyle(goal.level, goal.completed);\r\n    const baseStyle = \"absolute rounded-xl shadow-lg transition-all duration-300 hover:shadow-xl hover:scale-[1.02] select-none\";\r\n    const cursorStyle = isPanning ? 'cursor-grab' : (goal.isEditing ? 'cursor-text' : 'cursor-move');\r\n    \r\n    return `${baseStyle} ${levelStyle.bg} ${levelStyle.border} ${levelStyle.borderWidth} ${cursorStyle}`;\r\n  };\r\n\r\n  if (!isStarted) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-100 to-blue-100 flex items-center justify-center p-4\">\r\n        <div className=\"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full transform transition-all duration-500 hover:scale-105\">\r\n          <div className=\"text-center mb-8\">\r\n            <Target className=\"mx-auto mb-4 text-yellow-600\" size={64} />\r\n            <h1 className=\"text-4xl font-bold text-gray-800 mb-2\">Fluid Goals</h1>\r\n            <p className=\"text-gray-600\">Interactive mindmap-style goal breakdown</p>\r\n            <p className=\"text-sm text-gray-500 mt-2\">✨ Work backwards from your ultimate goal</p>\r\n          </div>\r\n          <div className=\"space-y-6\">\r\n            <input\r\n              type=\"text\"\r\n              value={mainGoal}\r\n              onChange={(e) => setMainGoal(e.target.value)}\r\n              placeholder=\"What's your ultimate goal?\"\r\n              className=\"w-full p-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all duration-300 text-lg\"\r\n              onKeyDown={(e) => e.key === 'Enter' && startBreakdown()}\r\n            />\r\n            <button\r\n              onClick={startBreakdown}\r\n              disabled={!mainGoal.trim()}\r\n              className=\"w-full bg-gradient-to-r from-yellow-500 to-orange-500 text-white p-4 rounded-xl font-bold text-lg hover:from-yellow-600 hover:to-orange-600 disabled:from-gray-300 disabled:to-gray-300 transition-all duration-300 transform hover:scale-105 active:scale-95 shadow-lg\"\r\n            >\r\n              Create Goal Map\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 overflow-hidden\">\r\n      {/* Header */}\r\n      <div className=\"fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-200 shadow-sm\">\r\n        <div className=\"flex justify-between items-center px-6 py-4\">\r\n          <div className=\"flex items-center gap-6\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <Target className=\"text-yellow-600\" size={24} />\r\n              <h1 className=\"text-xl font-bold text-gray-800\">Fluid Goal Breakdown</h1>\r\n              {focusedGoal && (\r\n                <div className=\"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium\">\r\n                  Focus Mode Active\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Level Navigation */}\r\n            {existingLevels.length > 1 && (\r\n              <div className=\"flex items-center gap-2 bg-white rounded-xl p-2 shadow-lg border border-gray-200\">\r\n                {existingLevels.map(level => {\r\n                  const stats = getLevelStats(level);\r\n                  const isHidden = hiddenLevels.has(level);\r\n                  const levelStyle = getLevelStyle(level, false);\r\n                  \r\n                  return (\r\n                    <button\r\n                      key={level}\r\n                      onClick={() => toggleLevelVisibility(level)}\r\n                      className={`flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all duration-300 transform hover:scale-105 text-sm ${\r\n                        isHidden \r\n                          ? 'bg-gray-200 text-gray-600 hover:bg-gray-300' \r\n                          : `${levelStyle.bg} ${levelStyle.color} ${levelStyle.border} ${levelStyle.borderWidth}`\r\n                      }`}\r\n                    >\r\n                      {isHidden ? <EyeOff size={12} /> : <Eye size={12} />}\r\n                      <span className=\"font-medium\">{getLevelLabel(level)}</span>\r\n                      <span className=\"text-xs bg-white px-2 py-0.5 rounded-full\">\r\n                        {stats.completed}/{stats.total}\r\n                      </span>\r\n                    </button>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-4\">\r\n            <div className=\"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full\">\r\n              {goals.filter(g => g.completed).length} / {goals.length} completed\r\n            </div>\r\n            <div className=\"text-xs text-gray-500 bg-gray-50 px-2 py-1 rounded\">\r\n              {spacePressed ? '🖱️ Pan Mode' : 'Hold Space + Drag to Pan'}\r\n            </div>\r\n            <button\r\n              onClick={reset}\r\n              className=\"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors\"\r\n            >\r\n              Reset\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Canvas */}\r\n      <div \r\n        ref={canvasRef}\r\n        className={`relative w-full h-screen overflow-hidden ${isPanning ? 'cursor-grabbing' : spacePressed ? 'cursor-grab' : 'cursor-default'}`}\r\n        style={{ marginTop: '80px' }}\r\n        onMouseDown={handlePanStart}\r\n        onWheel={handleWheel}\r\n      >\r\n        <div \r\n          className=\"absolute inset-0\"\r\n          style={{\r\n            transform: `translate(${canvasOffset.x}px, ${canvasOffset.y}px)`,\r\n            width: canvasSize.width,\r\n            height: canvasSize.height,\r\n            backgroundImage: `radial-gradient(circle at 1px 1px, rgba(0,0,0,0.1) 1px, transparent 0)`,\r\n            backgroundSize: '20px 20px'\r\n          }}\r\n        >\r\n          {/* Grid visualization (optional - can be removed for cleaner look) */}\r\n          {false && (\r\n            <svg \r\n              className=\"absolute top-0 left-0 w-full h-full pointer-events-none z-0 opacity-20\"\r\n              style={{ width: canvasSize.width, height: canvasSize.height }}\r\n            >\r\n              {/* Vertical grid lines for columns */}\r\n              {Array.from({length: 8}).map((_, i) => (\r\n                <line\r\n                  key={`v-${i}`}\r\n                  x1={canvasSize.width - (i * GRID.COLUMN_WIDTH)}\r\n                  y1={0}\r\n                  x2={canvasSize.width - (i * GRID.COLUMN_WIDTH)}\r\n                  y2={canvasSize.height}\r\n                  stroke=\"#e5e7eb\"\r\n                  strokeWidth=\"1\"\r\n                  strokeDasharray=\"5,5\"\r\n                />\r\n              ))}\r\n              {/* Horizontal grid lines for rows */}\r\n              {Array.from({length: 15}).map((_, i) => (\r\n                <line\r\n                  key={`h-${i}`}\r\n                  x1={0}\r\n                  y1={GRID.MARGIN + (i * GRID.ROW_HEIGHT)}\r\n                  x2={canvasSize.width}\r\n                  y2={GRID.MARGIN + (i * GRID.ROW_HEIGHT)}\r\n                  stroke=\"#e5e7eb\"\r\n                  strokeWidth=\"1\"\r\n                  strokeDasharray=\"5,5\"\r\n                />\r\n              ))}\r\n            </svg>\r\n          )}\r\n\r\n          {/* SVG for connections */}\r\n          <svg \r\n            className=\"absolute top-0 left-0 w-full h-full pointer-events-none z-0\"\r\n            style={{ width: canvasSize.width, height: canvasSize.height }}\r\n          >\r\n            {connections.map(conn => (\r\n              <g key={conn.id}>\r\n                <path\r\n                  d={conn.path}\r\n                  stroke={conn.completed ? '#10b981' : '#6b7280'}\r\n                  strokeWidth=\"3\"\r\n                  fill=\"none\"\r\n                  className=\"transition-all duration-300\"\r\n                  strokeDasharray={conn.completed ? '0' : '5,5'}\r\n                />\r\n                <circle\r\n                  cx={conn.from.x}\r\n                  cy={conn.from.y}\r\n                  r=\"4\"\r\n                  fill={conn.completed ? '#10b981' : '#6b7280'}\r\n                />\r\n                <circle\r\n                  cx={conn.to.x}\r\n                  cy={conn.to.y}\r\n                  r=\"4\"\r\n                  fill={conn.completed ? '#10b981' : '#6b7280'}\r\n                />\r\n              </g>\r\n            ))}\r\n          </svg>\r\n\r\n          {/* Goal nodes */}\r\n          {getVisibleGoals().map((goal) => {\r\n            const hasChildren = goals.filter(g => g.parentId === goal.id).length > 0;\r\n            const isFocused = focusedGoal === goal.id;\r\n            const levelStyle = getLevelStyle(goal.level, goal.completed);\r\n            \r\n            return (\r\n              <div\r\n                key={goal.id}\r\n                className={`${getGoalStyle(goal)} p-4 z-10 group ${isFocused ? 'ring-2 ring-blue-500 ring-offset-2' : ''}`}\r\n                style={{\r\n                  left: goal.position.x,\r\n                  top: goal.position.y,\r\n                  width: GRID.CARD_WIDTH,\r\n                  height: GRID.CARD_HEIGHT,\r\n                  transform: draggedGoal?.id === goal.id ? 'rotate(1deg) scale(1.03)' : 'none',\r\n                  zIndex: draggedGoal?.id === goal.id ? 20 : 10,\r\n                  pointerEvents: isPanning ? 'none' : 'auto'\r\n                }}\r\n                onMouseDown={(e) => !isPanning && handleDragStart(e, goal)}\r\n              >\r\n                {goal.isEditing ? (\r\n                  <input\r\n                    type=\"text\"\r\n                    defaultValue={goal.text}\r\n                    className=\"w-full h-full p-3 border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-lg resize-none\"\r\n                    placeholder=\"Enter goal...\"\r\n                    autoFocus\r\n                    onKeyDown={(e) => {\r\n                      if (e.key === 'Enter' && e.target.value.trim()) {\r\n                        updateGoal(goal.id, e.target.value);\r\n                      }\r\n                    }}\r\n                    onBlur={(e) => {\r\n                      if (e.target.value.trim()) {\r\n                        updateGoal(goal.id, e.target.value);\r\n                      } else {\r\n                        deleteGoal(goal.id);\r\n                      }\r\n                    }}\r\n                  />\r\n                ) : (\r\n                  <>\r\n                    <div className=\"flex items-start gap-3 mb-3\">\r\n                      {goal.level === 0 && (\r\n                        <Target className=\"text-yellow-600 mt-1 flex-shrink-0\" size={20} />\r\n                      )}\r\n                      <p \r\n                        className={`flex-1 text-sm font-medium leading-relaxed cursor-pointer hover:bg-black/5 p-1 rounded transition-colors ${\r\n                          goal.completed ? 'line-through' : ''\r\n                        } ${goal.level === 0 ? 'text-lg font-bold' : ''} ${levelStyle.color}`}\r\n                        onClick={() => startEditing(goal.id)}\r\n                        title=\"Click to edit\"\r\n                      >\r\n                        {goal.text || 'Click to add text...'}\r\n                      </p>\r\n                      <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                        <Edit3 className=\"text-gray-400\" size={12} />\r\n                        <Move className=\"text-gray-400\" size={14} />\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {/* Progress indicator */}\r\n                    {hasChildren && (\r\n                      <div className=\"mb-3\">\r\n                        {(() => {\r\n                          const children = goals.filter(g => g.parentId === goal.id);\r\n                          const completed = children.filter(g => g.completed).length;\r\n                          const total = children.length;\r\n                          const percentage = total > 0 ? (completed / total) * 100 : 0;\r\n                          \r\n                          return (\r\n                            <div className=\"space-y-1\">\r\n                              <div className=\"flex justify-between text-xs text-gray-600\">\r\n                                <span>{completed}/{total} subtasks</span>\r\n                                <span>{Math.round(percentage)}%</span>\r\n                              </div>\r\n                              <div className=\"w-full bg-gray-200 rounded-full h-1.5\">\r\n                                <div \r\n                                  className=\"bg-gradient-to-r from-green-500 to-green-400 h-1.5 rounded-full transition-all duration-500 ease-out\"\r\n                                  style={{ width: `${percentage}%` }}\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                          );\r\n                        })()}\r\n                      </div>\r\n                    )}\r\n                    \r\n                    <div className=\"flex justify-between items-center gap-2\">\r\n                      <button\r\n                        onClick={() => addSubGoal(goal.id)}\r\n                        className=\"flex items-center gap-1 bg-gradient-to-r from-purple-500 to-blue-500 text-white px-3 py-1.5 rounded-lg hover:from-purple-600 hover:to-blue-600 text-sm font-medium transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-md\"\r\n                      >\r\n                        <Plus size={14} />\r\n                        Break Down\r\n                      </button>\r\n                      \r\n                      <div className=\"flex gap-1.5\">\r\n                        {goal.level > 0 && (\r\n                          <button\r\n                            onClick={() => toggleFocus(goal.id)}\r\n                            className={`p-1.5 rounded-lg transition-all duration-300 transform hover:scale-110 active:scale-95 shadow-sm ${\r\n                              isFocused \r\n                                ? 'bg-blue-500 text-white shadow-blue-200' \r\n                                : 'bg-white text-blue-600 hover:bg-blue-100 border border-blue-400'\r\n                            }`}\r\n                            title={isFocused ? 'Exit focus mode' : 'Focus on this branch'}\r\n                          >\r\n                            <Focus size={14} />\r\n                          </button>\r\n                        )}\r\n                        \r\n                        <button\r\n                          onClick={() => toggleComplete(goal.id)}\r\n                          className={`p-1.5 rounded-lg transition-all duration-300 transform hover:scale-110 active:scale-95 shadow-sm ${\r\n                            goal.completed \r\n                              ? 'bg-green-500 text-white shadow-green-200' \r\n                              : 'bg-white text-green-600 hover:bg-green-100 border border-green-400'\r\n                          }`}\r\n                        >\r\n                          <Check size={14} />\r\n                        </button>\r\n                        \r\n                        {goal.level > 0 && (\r\n                          <button\r\n                            onClick={() => deleteGoal(goal.id)}\r\n                            className=\"p-1.5 rounded-lg bg-white text-red-600 hover:bg-red-100 border border-red-400 transition-all duration-300 transform hover:scale-110 active:scale-95 shadow-sm\"\r\n                          >\r\n                            <X size={14} />\r\n                          </button>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n\r\n          {/* Instructions */}\r\n          {goals.length === 1 && (\r\n            <div className=\"absolute top-20 left-20 bg-yellow-100 border-2 border-yellow-300 rounded-xl p-4 max-w-sm shadow-lg\">\r\n              <div className=\"flex items-start gap-3\">\r\n                <Target className=\"text-yellow-600 mt-1\" size={20} />\r\n                <div>\r\n                  <h3 className=\"font-semibold text-yellow-800 mb-2\">Grid-Based Goal Layout 🎨</h3>\r\n                  <ul className=\"text-sm text-yellow-700 space-y-1\">\r\n                    <li>• <strong>Perfect grid alignment</strong> - no overlaps</li>\r\n                    <li>• <strong>Drag to move rows</strong> - others shift automatically</li>\r\n                    <li>• <strong>Border thickness</strong> increases with level importance</li>\r\n                    <li>• <strong>Green fill</strong> shows completed goals</li>\r\n                    <li>• <strong>Space + Drag</strong> to pan around</li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FluidGoalBreakdown;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACvE,SAASC,IAAI,EAAEC,KAAK,EAAEC,CAAC,EAAEC,MAAM,EAAEC,KAAK,EAAEC,IAAI,EAAEC,GAAG,EAAEC,MAAM,EAAEC,KAAK,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEvF,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC/B,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACqB,QAAQ,EAAEC,WAAW,CAAC,GAAGtB,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACuB,SAAS,EAAEC,YAAY,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACyB,WAAW,EAAEC,cAAc,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAAC2B,UAAU,EAAEC,aAAa,CAAC,GAAG5B,QAAQ,CAAC;IAAE6B,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC,CAAC;EAC5D,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGhC,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACiC,YAAY,EAAEC,eAAe,CAAC,GAAGlC,QAAQ,CAAC,IAAImC,GAAG,CAAC,CAAC,CAAC;EAC3D,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGrC,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACsC,YAAY,EAAEC,eAAe,CAAC,GAAGvC,QAAQ,CAAC;IAAE6B,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC,CAAC;EAChE,MAAM,CAACU,SAAS,EAAEC,YAAY,CAAC,GAAGzC,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC0C,QAAQ,EAAEC,WAAW,CAAC,GAAG3C,QAAQ,CAAC;IAAE6B,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC,CAAC;EACxD,MAAM,CAACc,YAAY,EAAEC,eAAe,CAAC,GAAG7C,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM8C,SAAS,GAAG7C,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAM,CAAC8C,UAAU,EAAEC,aAAa,CAAC,GAAGhD,QAAQ,CAAC;IAAEiD,KAAK,EAAE,IAAI;IAAEC,MAAM,EAAE;EAAK,CAAC,CAAC;;EAE3E;EACA,MAAMC,IAAI,GAAG;IACXC,YAAY,EAAE,GAAG;IACjBC,UAAU,EAAE,GAAG;IACfC,UAAU,EAAE,GAAG;IACfC,WAAW,EAAE,GAAG;IAChBC,MAAM,EAAE;EACV,CAAC;;EAED;EACA,MAAMC,aAAa,GAAGA,CAACC,KAAK,EAAEC,SAAS,KAAK;IAC1C,MAAMC,WAAW,GAAG,CAClB;MAAEC,MAAM,EAAE,mBAAmB;MAAEC,WAAW,EAAE,UAAU;MAAEC,KAAK,EAAE;IAAkB,CAAC;IAAE;IACpF;MAAEF,MAAM,EAAE,iBAAiB;MAAEC,WAAW,EAAE,UAAU;MAAEC,KAAK,EAAE;IAAgB,CAAC,EAC9E;MAAEF,MAAM,EAAE,mBAAmB;MAAEC,WAAW,EAAE,cAAc;MAAEC,KAAK,EAAE;IAAkB,CAAC,EACtF;MAAEF,MAAM,EAAE,kBAAkB;MAAEC,WAAW,EAAE,cAAc;MAAEC,KAAK,EAAE;IAAiB,CAAC,EACpF;MAAEF,MAAM,EAAE,mBAAmB;MAAEC,WAAW,EAAE,cAAc;MAAEC,KAAK,EAAE;IAAkB,CAAC,EACtF;MAAEF,MAAM,EAAE,iBAAiB;MAAEC,WAAW,EAAE,cAAc;MAAEC,KAAK,EAAE;IAAgB,CAAC,EAClF;MAAEF,MAAM,EAAE,gBAAgB;MAAEC,WAAW,EAAE,cAAc;MAAEC,KAAK,EAAE;IAAe,CAAC,EAChF;MAAEF,MAAM,EAAE,mBAAmB;MAAEC,WAAW,EAAE,cAAc;MAAEC,KAAK,EAAE;IAAkB,CAAC,CACvF;IAED,MAAMC,KAAK,GAAGJ,WAAW,CAACK,IAAI,CAACC,GAAG,CAACR,KAAK,EAAEE,WAAW,CAACO,MAAM,GAAG,CAAC,CAAC,CAAC;IAElE,IAAIR,SAAS,EAAE;MACb,OAAO;QACLE,MAAM,EAAE,kBAAkB;QAC1BC,WAAW,EAAEE,KAAK,CAACF,WAAW;QAC9BM,EAAE,EAAE,cAAc;QAClBL,KAAK,EAAE;MACT,CAAC;IACH;IAEA,OAAO;MACLF,MAAM,EAAEG,KAAK,CAACH,MAAM;MACpBC,WAAW,EAAEE,KAAK,CAACF,WAAW;MAC9BM,EAAE,EAAE,UAAU;MACdL,KAAK,EAAEC,KAAK,CAACD;IACf,CAAC;EACH,CAAC;;EAED;EACA,MAAMM,cAAc,GAAGA,CAACX,KAAK,EAAEY,GAAG,KAAK;IACrC,MAAMzC,CAAC,GAAGkB,UAAU,CAACE,KAAK,GAAGE,IAAI,CAACK,MAAM,GAAIE,KAAK,GAAGP,IAAI,CAACC,YAAa,GAAGD,IAAI,CAACG,UAAU;IACxF,MAAMxB,CAAC,GAAGqB,IAAI,CAACK,MAAM,GAAIc,GAAG,GAAGnB,IAAI,CAACE,UAAW;IAC/C,OAAO;MACLxB,CAAC,EAAEoC,IAAI,CAACM,GAAG,CAACpB,IAAI,CAACK,MAAM,EAAE3B,CAAC,CAAC;MAC3BC,CAAC,EAAEmC,IAAI,CAACM,GAAG,CAACpB,IAAI,CAACK,MAAM,EAAE1B,CAAC;IAC5B,CAAC;EACH,CAAC;;EAED;EACA,MAAM0C,cAAc,GAAIC,QAAQ,IAAK;IACnC,MAAMf,KAAK,GAAGO,IAAI,CAACM,GAAG,CAAC,CAAC,EAAEN,IAAI,CAACS,KAAK,CAAC,CAAC3B,UAAU,CAACE,KAAK,GAAGwB,QAAQ,CAAC5C,CAAC,GAAGsB,IAAI,CAACG,UAAU,GAAGH,IAAI,CAACK,MAAM,IAAIL,IAAI,CAACC,YAAY,CAAC,CAAC;IAC1H,MAAMkB,GAAG,GAAGL,IAAI,CAACM,GAAG,CAAC,CAAC,EAAEN,IAAI,CAACS,KAAK,CAAC,CAACD,QAAQ,CAAC3C,CAAC,GAAGqB,IAAI,CAACK,MAAM,IAAIL,IAAI,CAACE,UAAU,CAAC,CAAC;IACjF,OAAO;MAAEK,KAAK;MAAEY;IAAI,CAAC;EACvB,CAAC;;EAED;EACA,MAAMK,kBAAkB,GAAIjB,KAAK,IAAK;IACpC,MAAMkB,UAAU,GAAGzD,KAAK,CAAC0D,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACpB,KAAK,KAAKA,KAAK,CAAC;IACvD,IAAIkB,UAAU,CAACT,MAAM,KAAK,CAAC,EAAE,OAAO,CAAC;IAErC,MAAMY,YAAY,GAAGH,UAAU,CAACI,GAAG,CAACF,CAAC,IAAIA,CAAC,CAACG,OAAO,CAAC,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,CAAC;IACzE,IAAIC,OAAO,GAAG,CAAC;IACf,KAAK,MAAMf,GAAG,IAAIS,YAAY,EAAE;MAC9B,IAAIT,GAAG,KAAKe,OAAO,EAAE;QACnBA,OAAO,EAAE;MACX,CAAC,MAAM;QACL;MACF;IACF;IACA,OAAOA,OAAO;EAChB,CAAC;;EAED;EACA,MAAMC,cAAc,GAAGA,CAAC5B,KAAK,EAAE6B,OAAO,EAAEC,SAAS,GAAG,IAAI,KAAK;IAC3DpE,QAAQ,CAACqE,IAAI,IAAIA,IAAI,CAACT,GAAG,CAACU,IAAI,IAAI;MAChC,IAAIA,IAAI,CAAChC,KAAK,KAAKA,KAAK,IAAIgC,IAAI,CAACT,OAAO,IAAIM,OAAO,IAAIG,IAAI,CAACC,EAAE,KAAKH,SAAS,EAAE;QAC5E,MAAMI,MAAM,GAAGF,IAAI,CAACT,OAAO,GAAG,CAAC;QAC/B,OAAO;UACL,GAAGS,IAAI;UACPT,OAAO,EAAEW,MAAM;UACfnB,QAAQ,EAAEJ,cAAc,CAACX,KAAK,EAAEkC,MAAM;QACxC,CAAC;MACH;MACA,OAAOF,IAAI;IACb,CAAC,CAAC,CAAC;EACL,CAAC;;EAED;EACA,MAAMG,YAAY,GAAInC,KAAK,IAAK;IAC9B,MAAMkB,UAAU,GAAGzD,KAAK,CACrB0D,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACpB,KAAK,KAAKA,KAAK,CAAC,CAC9BwB,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACF,OAAO,GAAGG,CAAC,CAACH,OAAO,CAAC;IAExC7D,QAAQ,CAACqE,IAAI,IAAIA,IAAI,CAACT,GAAG,CAACU,IAAI,IAAI;MAChC,MAAMI,SAAS,GAAGlB,UAAU,CAACmB,SAAS,CAACjB,CAAC,IAAIA,CAAC,CAACa,EAAE,KAAKD,IAAI,CAACC,EAAE,CAAC;MAC7D,IAAIG,SAAS,KAAK,CAAC,CAAC,IAAIJ,IAAI,CAAChC,KAAK,KAAKA,KAAK,EAAE;QAC5C,OAAO;UACL,GAAGgC,IAAI;UACPT,OAAO,EAAEa,SAAS;UAClBrB,QAAQ,EAAEJ,cAAc,CAACX,KAAK,EAAEoC,SAAS;QAC3C,CAAC;MACH;MACA,OAAOJ,IAAI;IACb,CAAC,CAAC,CAAC;EACL,CAAC;;EAED;EACA,MAAMM,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAI3E,QAAQ,CAAC4E,IAAI,CAAC,CAAC,EAAE;MACnB,MAAMC,QAAQ,GAAG;QACfP,EAAE,EAAE,CAAC;QACLQ,IAAI,EAAE9E,QAAQ;QACdsC,SAAS,EAAE,KAAK;QAChBD,KAAK,EAAE,CAAC;QACRuB,OAAO,EAAE,CAAC;QACVmB,QAAQ,EAAE,IAAI;QACd3B,QAAQ,EAAEJ,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC;QAC9BgC,QAAQ,EAAE;MACZ,CAAC;MACDjF,QAAQ,CAAC,CAAC8E,QAAQ,CAAC,CAAC;MACpB1E,YAAY,CAAC,IAAI,CAAC;MAClBe,eAAe,CAAC;QACdV,CAAC,EAAE,EAAEkB,UAAU,CAACE,KAAK,GAAG,GAAG,CAAC;QAC5BnB,CAAC,EAAE,EAAEiB,UAAU,CAACG,MAAM,GAAG,CAAC,GAAG,GAAG;MAClC,CAAC,CAAC;IACJ;EACF,CAAC;;EAED;EACAhD,SAAS,CAAC,MAAM;IACd,MAAMoG,aAAa,GAAIC,CAAC,IAAK;MAC3B,IAAIA,CAAC,CAACC,IAAI,KAAK,OAAO,IAAID,CAAC,CAACE,MAAM,CAACC,OAAO,KAAK,OAAO,EAAE;QACtDH,CAAC,CAACI,cAAc,CAAC,CAAC;QAClB9D,eAAe,CAAC,IAAI,CAAC;MACvB;IACF,CAAC;IAED,MAAM+D,WAAW,GAAIL,CAAC,IAAK;MACzB,IAAIA,CAAC,CAACC,IAAI,KAAK,OAAO,EAAE;QACtBD,CAAC,CAACI,cAAc,CAAC,CAAC;QAClB9D,eAAe,CAAC,KAAK,CAAC;QACtBJ,YAAY,CAAC,KAAK,CAAC;MACrB;IACF,CAAC;IAEDoE,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAER,aAAa,CAAC;IACjDO,MAAM,CAACC,gBAAgB,CAAC,OAAO,EAAEF,WAAW,CAAC;IAE7C,OAAO,MAAM;MACXC,MAAM,CAACE,mBAAmB,CAAC,SAAS,EAAET,aAAa,CAAC;MACpDO,MAAM,CAACE,mBAAmB,CAAC,OAAO,EAAEH,WAAW,CAAC;IAClD,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMI,cAAc,GAAIT,CAAC,IAAK;IAC5B,IAAI3D,YAAY,IAAI2D,CAAC,CAACU,MAAM,KAAK,CAAC,EAAE;MAClCV,CAAC,CAACI,cAAc,CAAC,CAAC;MAClBlE,YAAY,CAAC,IAAI,CAAC;MAClBE,WAAW,CAAC;QAAEd,CAAC,EAAE0E,CAAC,CAACW,OAAO,GAAG5E,YAAY,CAACT,CAAC;QAAEC,CAAC,EAAEyE,CAAC,CAACY,OAAO,GAAG7E,YAAY,CAACR;MAAE,CAAC,CAAC;IAC/E;EACF,CAAC;EAED,MAAMsF,aAAa,GAAGjH,WAAW,CAAEoG,CAAC,IAAK;IACvC,IAAI/D,SAAS,EAAE;MACb+D,CAAC,CAACI,cAAc,CAAC,CAAC;MAClBpE,eAAe,CAAC;QACdV,CAAC,EAAE0E,CAAC,CAACW,OAAO,GAAGxE,QAAQ,CAACb,CAAC;QACzBC,CAAC,EAAEyE,CAAC,CAACY,OAAO,GAAGzE,QAAQ,CAACZ;MAC1B,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAACU,SAAS,EAAEE,QAAQ,CAAC,CAAC;EAEzB,MAAM2E,YAAY,GAAGA,CAAA,KAAM;IACzB5E,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC;EAED,MAAM6E,WAAW,GAAIf,CAAC,IAAK;IACzB,IAAIA,CAAC,CAACgB,QAAQ,IAAItD,IAAI,CAACuD,GAAG,CAACjB,CAAC,CAACkB,MAAM,CAAC,GAAGxD,IAAI,CAACuD,GAAG,CAACjB,CAAC,CAACmB,MAAM,CAAC,EAAE;MACzDnB,CAAC,CAACI,cAAc,CAAC,CAAC;MAClBpE,eAAe,CAACkD,IAAI,KAAK;QACvB5D,CAAC,EAAE4D,IAAI,CAAC5D,CAAC,GAAG0E,CAAC,CAACkB,MAAM,GAAG,CAAC;QACxB3F,CAAC,EAAE2D,IAAI,CAAC3D,CAAC,GAAGyE,CAAC,CAACmB,MAAM,GAAG;MACzB,CAAC,CAAC,CAAC;IACL;EACF,CAAC;EAEDxH,SAAS,CAAC,MAAM;IACd,IAAIsC,SAAS,EAAE;MACbmF,QAAQ,CAACb,gBAAgB,CAAC,WAAW,EAAEM,aAAa,CAAC;MACrDO,QAAQ,CAACb,gBAAgB,CAAC,SAAS,EAAEO,YAAY,CAAC;MAClD,OAAO,MAAM;QACXM,QAAQ,CAACZ,mBAAmB,CAAC,WAAW,EAAEK,aAAa,CAAC;QACxDO,QAAQ,CAACZ,mBAAmB,CAAC,SAAS,EAAEM,YAAY,CAAC;MACvD,CAAC;IACH;EACF,CAAC,EAAE,CAAC7E,SAAS,EAAE4E,aAAa,CAAC,CAAC;;EAE9B;EACA,MAAMQ,eAAe,GAAGA,CAAA,KAAM;IAC5B,IAAIC,YAAY,GAAG1G,KAAK,CAAC0D,MAAM,CAACa,IAAI,IAAI,CAACzD,YAAY,CAAC6F,GAAG,CAACpC,IAAI,CAAChC,KAAK,CAAC,CAAC;IAEtE,IAAItB,WAAW,EAAE;MACf,MAAM2F,eAAe,GAAG5G,KAAK,CAAC6G,IAAI,CAAClD,CAAC,IAAIA,CAAC,CAACa,EAAE,KAAKvD,WAAW,CAAC;MAC7D,IAAI2F,eAAe,EAAE;QACnB,MAAME,YAAY,GAAG,IAAI9F,GAAG,CAAC,CAAC;;QAE9B;QACA,IAAI+F,OAAO,GAAGH,eAAe;QAC7B,OAAOG,OAAO,EAAE;UACdD,YAAY,CAACE,GAAG,CAACD,OAAO,CAACvC,EAAE,CAAC;UAC5BuC,OAAO,GAAG/G,KAAK,CAAC6G,IAAI,CAAClD,CAAC,IAAIA,CAAC,CAACa,EAAE,KAAKuC,OAAO,CAAC9B,QAAQ,CAAC;QACtD;;QAEA;QACA,MAAMgC,cAAc,GAAIC,MAAM,IAAK;UACjC,MAAMhC,QAAQ,GAAGlF,KAAK,CAAC0D,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACsB,QAAQ,KAAKiC,MAAM,CAAC;UACzDhC,QAAQ,CAACiC,OAAO,CAACC,KAAK,IAAI;YACxBN,YAAY,CAACE,GAAG,CAACI,KAAK,CAAC5C,EAAE,CAAC;YAC1ByC,cAAc,CAACG,KAAK,CAAC5C,EAAE,CAAC;UAC1B,CAAC,CAAC;QACJ,CAAC;QACDyC,cAAc,CAAChG,WAAW,CAAC;QAE3ByF,YAAY,GAAGA,YAAY,CAAChD,MAAM,CAACa,IAAI,IAAIuC,YAAY,CAACH,GAAG,CAACpC,IAAI,CAACC,EAAE,CAAC,CAAC;MACvE;IACF;IAEA,OAAOkC,YAAY;EACrB,CAAC;;EAED;EACA,MAAMW,oBAAoB,GAAGrI,WAAW,CAAC,MAAM;IAC7C,MAAMsI,cAAc,GAAG,EAAE;IACzB,MAAMZ,YAAY,GAAGD,eAAe,CAAC,CAAC;IAEtCC,YAAY,CAACS,OAAO,CAAC5C,IAAI,IAAI;MAC3B,IAAIA,IAAI,CAACU,QAAQ,EAAE;QACjB,MAAMsC,MAAM,GAAGvH,KAAK,CAAC6G,IAAI,CAAClD,CAAC,IAAIA,CAAC,CAACa,EAAE,KAAKD,IAAI,CAACU,QAAQ,CAAC;QAEtD,IAAIsC,MAAM,IAAIb,YAAY,CAACc,QAAQ,CAACD,MAAM,CAAC,EAAE;UAC3C,MAAME,MAAM,GAAGF,MAAM,CAACjE,QAAQ,CAAC5C,CAAC;UAChC,MAAMgH,MAAM,GAAGH,MAAM,CAACjE,QAAQ,CAAC3C,CAAC,GAAIqB,IAAI,CAACI,WAAW,GAAG,CAAE;UACzD,MAAMuF,IAAI,GAAGpD,IAAI,CAACjB,QAAQ,CAAC5C,CAAC,GAAGsB,IAAI,CAACG,UAAU;UAC9C,MAAMyF,IAAI,GAAGrD,IAAI,CAACjB,QAAQ,CAAC3C,CAAC,GAAIqB,IAAI,CAACI,WAAW,GAAG,CAAE;UAErDkF,cAAc,CAACO,IAAI,CAAC;YAClBrD,EAAE,EAAE,GAAG+C,MAAM,CAAC/C,EAAE,IAAID,IAAI,CAACC,EAAE,EAAE;YAC7BsD,IAAI,EAAE;cAAEpH,CAAC,EAAE+G,MAAM;cAAE9G,CAAC,EAAE+G;YAAO,CAAC;YAC9BK,EAAE,EAAE;cAAErH,CAAC,EAAEiH,IAAI;cAAEhH,CAAC,EAAEiH;YAAK,CAAC;YACxBpF,SAAS,EAAE+B,IAAI,CAAC/B,SAAS,IAAI+E,MAAM,CAAC/E,SAAS;YAC7CwF,IAAI,EAAE,KAAKP,MAAM,IAAIC,MAAM;AACvC,uBAAuBD,MAAM,GAAG,EAAE,IAAIC,MAAM;AAC5C,uBAAuBC,IAAI,GAAG,EAAE,IAAIC,IAAI;AACxC,uBAAuBD,IAAI,IAAIC,IAAI;UACzB,CAAC,CAAC;QACJ;MACF;IACF,CAAC,CAAC;IAEF/G,cAAc,CAACyG,cAAc,CAAC;EAChC,CAAC,EAAE,CAACtH,KAAK,EAAEc,YAAY,EAAEG,WAAW,CAAC,CAAC;EAEtClC,SAAS,CAAC,MAAM;IACdsI,oBAAoB,CAAC,CAAC;EACxB,CAAC,EAAE,CAACA,oBAAoB,CAAC,CAAC;;EAE1B;EACA,MAAMY,UAAU,GAAIhD,QAAQ,IAAK;IAC/B,MAAMsC,MAAM,GAAGvH,KAAK,CAAC6G,IAAI,CAAClD,CAAC,IAAIA,CAAC,CAACa,EAAE,KAAKS,QAAQ,CAAC;IACjD,IAAI,CAACsC,MAAM,EAAE;IAEb,MAAMW,KAAK,GAAGpF,IAAI,CAACM,GAAG,CAAC,CAAC,EAAE,GAAGpD,KAAK,CAAC6D,GAAG,CAACF,CAAC,IAAIA,CAAC,CAACa,EAAE,CAAC,CAAC,GAAG,CAAC;IACtD,MAAM2D,QAAQ,GAAGZ,MAAM,CAAChF,KAAK,GAAG,CAAC;IACjC,MAAMkC,MAAM,GAAGjB,kBAAkB,CAAC2E,QAAQ,CAAC;IAC3C,MAAMC,WAAW,GAAGlF,cAAc,CAACiF,QAAQ,EAAE1D,MAAM,CAAC;IAEpD,MAAM4D,OAAO,GAAG;MACd7D,EAAE,EAAE0D,KAAK;MACTlD,IAAI,EAAE,EAAE;MACRxC,SAAS,EAAE,KAAK;MAChBD,KAAK,EAAE4F,QAAQ;MACfrE,OAAO,EAAEW,MAAM;MACfQ,QAAQ,EAAEA,QAAQ;MAClB3B,QAAQ,EAAE8E,WAAW;MACrBE,SAAS,EAAE,IAAI;MACfpD,QAAQ,EAAE;IACZ,CAAC;IAEDjF,QAAQ,CAACqE,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE+D,OAAO,CAAC,CAAC;EACtC,CAAC;;EAED;EACA,MAAME,eAAe,GAAGA,CAACnD,CAAC,EAAEb,IAAI,KAAK;IACnC,IAAIA,IAAI,CAAC+D,SAAS,IAAIjH,SAAS,EAAE;IACjCd,cAAc,CAACgE,IAAI,CAAC;IACpB,MAAMiE,IAAI,GAAGpD,CAAC,CAACqD,aAAa,CAACC,qBAAqB,CAAC,CAAC;IACpDjI,aAAa,CAAC;MACZC,CAAC,EAAE0E,CAAC,CAACW,OAAO,GAAGyC,IAAI,CAACG,IAAI;MACxBhI,CAAC,EAAEyE,CAAC,CAACY,OAAO,GAAGwC,IAAI,CAACI;IACtB,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,UAAU,GAAG7J,WAAW,CAAEoG,CAAC,IAAK;IACpC,IAAI,CAAC9E,WAAW,IAAI,CAACqB,SAAS,CAACoF,OAAO,IAAI1F,SAAS,EAAE;IAErD,MAAMyH,UAAU,GAAGnH,SAAS,CAACoF,OAAO,CAAC2B,qBAAqB,CAAC,CAAC;IAC5D,MAAMK,MAAM,GAAI3D,CAAC,CAACW,OAAO,GAAG+C,UAAU,CAACH,IAAI,GAAGxH,YAAY,CAACT,CAAC,GAAIF,UAAU,CAACE,CAAC;IAC5E,MAAMsI,MAAM,GAAI5D,CAAC,CAACY,OAAO,GAAG8C,UAAU,CAACF,GAAG,GAAGzH,YAAY,CAACR,CAAC,GAAIH,UAAU,CAACG,CAAC;IAE3E,MAAMsI,gBAAgB,GAAG;MACvBvI,CAAC,EAAEoC,IAAI,CAACM,GAAG,CAAC,CAAC,EAAEN,IAAI,CAACC,GAAG,CAACnB,UAAU,CAACE,KAAK,GAAGE,IAAI,CAACG,UAAU,EAAE4G,MAAM,CAAC,CAAC;MACpEpI,CAAC,EAAEmC,IAAI,CAACM,GAAG,CAAC,CAAC,EAAEN,IAAI,CAACC,GAAG,CAACnB,UAAU,CAACG,MAAM,GAAGC,IAAI,CAACI,WAAW,EAAE4G,MAAM,CAAC;IACvE,CAAC;;IAED;IACA,MAAME,UAAU,GAAG7F,cAAc,CAAC4F,gBAAgB,CAAC;IACnD,MAAME,eAAe,GAAGjG,cAAc,CAACgG,UAAU,CAAC3G,KAAK,EAAE2G,UAAU,CAAC/F,GAAG,CAAC;IAExElD,QAAQ,CAACqE,IAAI,IAAIA,IAAI,CAACT,GAAG,CAACU,IAAI,IAC5BA,IAAI,CAACC,EAAE,KAAKlE,WAAW,CAACkE,EAAE,GACtB;MACE,GAAGD,IAAI;MACPjB,QAAQ,EAAE6F,eAAe;MACzB5G,KAAK,EAAE2G,UAAU,CAAC3G,KAAK;MACvBuB,OAAO,EAAEoF,UAAU,CAAC/F;IACtB,CAAC,GACDoB,IACN,CAAC,CAAC;EACJ,CAAC,EAAE,CAACjE,WAAW,EAAEE,UAAU,EAAEoB,UAAU,EAAET,YAAY,EAAEE,SAAS,CAAC,CAAC;EAElE,MAAM+H,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAI9I,WAAW,EAAE;MACf,MAAM+I,eAAe,GAAGrJ,KAAK,CAAC6G,IAAI,CAAClD,CAAC,IAAIA,CAAC,CAACa,EAAE,KAAKlE,WAAW,CAACkE,EAAE,CAAC;MAChE,IAAI6E,eAAe,EAAE;QACnB;QACA,MAAMC,eAAe,GAAGtJ,KAAK,CAAC6G,IAAI,CAAClD,CAAC,IAClCA,CAAC,CAACa,EAAE,KAAKlE,WAAW,CAACkE,EAAE,IACvBb,CAAC,CAACpB,KAAK,KAAK8G,eAAe,CAAC9G,KAAK,IACjCoB,CAAC,CAACG,OAAO,KAAKuF,eAAe,CAACvF,OAChC,CAAC;QAED,IAAIwF,eAAe,EAAE;UACnB;UACAnF,cAAc,CAACkF,eAAe,CAAC9G,KAAK,EAAE8G,eAAe,CAACvF,OAAO,EAAExD,WAAW,CAACkE,EAAE,CAAC;QAChF;;QAEA;QACA,IAAI6E,eAAe,CAAC9G,KAAK,KAAKjC,WAAW,CAACiC,KAAK,EAAE;UAC/CmC,YAAY,CAACpE,WAAW,CAACiC,KAAK,CAAC;QACjC;MACF;IACF;IACAhC,cAAc,CAAC,IAAI,CAAC;EACtB,CAAC;EAEDxB,SAAS,CAAC,MAAM;IACd,IAAIuB,WAAW,IAAI,CAACe,SAAS,EAAE;MAC7BmF,QAAQ,CAACb,gBAAgB,CAAC,WAAW,EAAEkD,UAAU,CAAC;MAClDrC,QAAQ,CAACb,gBAAgB,CAAC,SAAS,EAAEyD,aAAa,CAAC;MACnD,OAAO,MAAM;QACX5C,QAAQ,CAACZ,mBAAmB,CAAC,WAAW,EAAEiD,UAAU,CAAC;QACrDrC,QAAQ,CAACZ,mBAAmB,CAAC,SAAS,EAAEwD,aAAa,CAAC;MACxD,CAAC;IACH;EACF,CAAC,EAAE,CAAC9I,WAAW,EAAEuI,UAAU,EAAExH,SAAS,CAAC,CAAC;EAExC,MAAMkI,UAAU,GAAGA,CAAC/E,EAAE,EAAEQ,IAAI,KAAK;IAC/B/E,QAAQ,CAACD,KAAK,CAAC6D,GAAG,CAACU,IAAI,IACrBA,IAAI,CAACC,EAAE,KAAKA,EAAE,GACV;MAAE,GAAGD,IAAI;MAAES,IAAI;MAAEsD,SAAS,EAAE;IAAM,CAAC,GACnC/D,IACN,CAAC,CAAC;EACJ,CAAC;EAED,MAAMiF,YAAY,GAAIhF,EAAE,IAAK;IAC3BvE,QAAQ,CAACD,KAAK,CAAC6D,GAAG,CAACU,IAAI,IACrBA,IAAI,CAACC,EAAE,KAAKA,EAAE,GACV;MAAE,GAAGD,IAAI;MAAE+D,SAAS,EAAE;IAAK,CAAC,GAC5B/D,IACN,CAAC,CAAC;EACJ,CAAC;EAED,MAAMkF,cAAc,GAAIjF,EAAE,IAAK;IAC7BvE,QAAQ,CAACD,KAAK,CAAC6D,GAAG,CAACU,IAAI,IACrBA,IAAI,CAACC,EAAE,KAAKA,EAAE,GACV;MAAE,GAAGD,IAAI;MAAE/B,SAAS,EAAE,CAAC+B,IAAI,CAAC/B;IAAU,CAAC,GACvC+B,IACN,CAAC,CAAC;EACJ,CAAC;EAED,MAAMmF,UAAU,GAAIlF,EAAE,IAAK;IACzB,MAAMmF,YAAY,GAAG3J,KAAK,CAAC6G,IAAI,CAAClD,CAAC,IAAIA,CAAC,CAACa,EAAE,KAAKA,EAAE,CAAC;IACjD,IAAImF,YAAY,EAAE;MAChB1J,QAAQ,CAACD,KAAK,CAAC0D,MAAM,CAACa,IAAI,IAAIA,IAAI,CAACC,EAAE,KAAKA,EAAE,IAAID,IAAI,CAACU,QAAQ,KAAKT,EAAE,CAAC,CAAC;MACtE;MACAoF,UAAU,CAAC,MAAMlF,YAAY,CAACiF,YAAY,CAACpH,KAAK,CAAC,EAAE,EAAE,CAAC;IACxD;EACF,CAAC;EAED,MAAMsH,WAAW,GAAI3C,MAAM,IAAK;IAC9BhG,cAAc,CAACD,WAAW,KAAKiG,MAAM,GAAG,IAAI,GAAGA,MAAM,CAAC;EACxD,CAAC;EAED,MAAM4C,KAAK,GAAGA,CAAA,KAAM;IAClB7J,QAAQ,CAAC,EAAE,CAAC;IACZE,WAAW,CAAC,EAAE,CAAC;IACfE,YAAY,CAAC,KAAK,CAAC;IACnBQ,cAAc,CAAC,EAAE,CAAC;IAClBE,eAAe,CAAC,IAAIC,GAAG,CAAC,CAAC,CAAC;IAC1BE,cAAc,CAAC,IAAI,CAAC;IACpBE,eAAe,CAAC;MAAEV,CAAC,EAAE,CAAC;MAAEC,CAAC,EAAE;IAAE,CAAC,CAAC;EACjC,CAAC;EAED,MAAMoJ,qBAAqB,GAAIxH,KAAK,IAAK;IACvC,MAAMyH,SAAS,GAAG,IAAIhJ,GAAG,CAACF,YAAY,CAAC;IACvC,IAAIkJ,SAAS,CAACrD,GAAG,CAACpE,KAAK,CAAC,EAAE;MACxByH,SAAS,CAACC,MAAM,CAAC1H,KAAK,CAAC;IACzB,CAAC,MAAM;MACLyH,SAAS,CAAChD,GAAG,CAACzE,KAAK,CAAC;IACtB;IACAxB,eAAe,CAACiJ,SAAS,CAAC;EAC5B,CAAC;EAED,MAAME,aAAa,GAAI3H,KAAK,IAAK;IAC/B,MAAMkB,UAAU,GAAGzD,KAAK,CAAC0D,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACpB,KAAK,KAAKA,KAAK,CAAC;IACvD,MAAMC,SAAS,GAAGiB,UAAU,CAACC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACnB,SAAS,CAAC,CAACQ,MAAM;IAC5D,OAAO;MAAEmH,KAAK,EAAE1G,UAAU,CAACT,MAAM;MAAER;IAAU,CAAC;EAChD,CAAC;EAED,MAAM4H,aAAa,GAAI7H,KAAK,IAAK;IAC/B,IAAIA,KAAK,KAAK,CAAC,EAAE,OAAO,kBAAkB;IAC1C,MAAM8H,MAAM,GAAG,CAAC,aAAa,EAAE,YAAY,EAAE,WAAW,EAAE,UAAU,EAAE,SAAS,EAAE,YAAY,EAAE,UAAU,CAAC;IAC1G,OAAOA,MAAM,CAAC9H,KAAK,GAAG,CAAC,CAAC,IAAI,YAAYA,KAAK,EAAE;EACjD,CAAC;EAED,MAAM+H,cAAc,GAAG,CAAC,GAAG,IAAItJ,GAAG,CAAChB,KAAK,CAAC6D,GAAG,CAACF,CAAC,IAAIA,CAAC,CAACpB,KAAK,CAAC,CAAC,CAAC,CAACwB,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,CAAC;EAElF,MAAMsG,YAAY,GAAIhG,IAAI,IAAK;IAC7B,MAAMiG,UAAU,GAAGlI,aAAa,CAACiC,IAAI,CAAChC,KAAK,EAAEgC,IAAI,CAAC/B,SAAS,CAAC;IAC5D,MAAMiI,SAAS,GAAG,0GAA0G;IAC5H,MAAMC,WAAW,GAAGrJ,SAAS,GAAG,aAAa,GAAIkD,IAAI,CAAC+D,SAAS,GAAG,aAAa,GAAG,aAAc;IAEhG,OAAO,GAAGmC,SAAS,IAAID,UAAU,CAACvH,EAAE,IAAIuH,UAAU,CAAC9H,MAAM,IAAI8H,UAAU,CAAC7H,WAAW,IAAI+H,WAAW,EAAE;EACtG,CAAC;EAED,IAAI,CAACtK,SAAS,EAAE;IACd,oBACET,OAAA;MAAKgL,SAAS,EAAC,gGAAgG;MAAAzF,QAAA,eAC7GvF,OAAA;QAAKgL,SAAS,EAAC,2GAA2G;QAAAzF,QAAA,gBACxHvF,OAAA;UAAKgL,SAAS,EAAC,kBAAkB;UAAAzF,QAAA,gBAC/BvF,OAAA,CAACP,MAAM;YAACuL,SAAS,EAAC,8BAA8B;YAACC,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAC7DrL,OAAA;YAAIgL,SAAS,EAAC,uCAAuC;YAAAzF,QAAA,EAAC;UAAW;YAAA2F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACtErL,OAAA;YAAGgL,SAAS,EAAC,eAAe;YAAAzF,QAAA,EAAC;UAAwC;YAAA2F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACzErL,OAAA;YAAGgL,SAAS,EAAC,4BAA4B;YAAAzF,QAAA,EAAC;UAAwC;YAAA2F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnF,CAAC,eACNrL,OAAA;UAAKgL,SAAS,EAAC,WAAW;UAAAzF,QAAA,gBACxBvF,OAAA;YACEsL,IAAI,EAAC,MAAM;YACXC,KAAK,EAAEhL,QAAS;YAChBiL,QAAQ,EAAG/F,CAAC,IAAKjF,WAAW,CAACiF,CAAC,CAACE,MAAM,CAAC4F,KAAK,CAAE;YAC7CE,WAAW,EAAC,4BAA4B;YACxCT,SAAS,EAAC,kKAAkK;YAC5KU,SAAS,EAAGjG,CAAC,IAAKA,CAAC,CAACkG,GAAG,KAAK,OAAO,IAAIzG,cAAc,CAAC;UAAE;YAAAgG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzD,CAAC,eACFrL,OAAA;YACE4L,OAAO,EAAE1G,cAAe;YACxB2G,QAAQ,EAAE,CAACtL,QAAQ,CAAC4E,IAAI,CAAC,CAAE;YAC3B6F,SAAS,EAAC,yQAAyQ;YAAAzF,QAAA,EACpR;UAED;YAAA2F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;EAEA,oBACErL,OAAA;IAAKgL,SAAS,EAAC,yEAAyE;IAAAzF,QAAA,gBAEtFvF,OAAA;MAAKgL,SAAS,EAAC,iGAAiG;MAAAzF,QAAA,eAC9GvF,OAAA;QAAKgL,SAAS,EAAC,6CAA6C;QAAAzF,QAAA,gBAC1DvF,OAAA;UAAKgL,SAAS,EAAC,yBAAyB;UAAAzF,QAAA,gBACtCvF,OAAA;YAAKgL,SAAS,EAAC,yBAAyB;YAAAzF,QAAA,gBACtCvF,OAAA,CAACP,MAAM;cAACuL,SAAS,EAAC,iBAAiB;cAACC,IAAI,EAAE;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eAChDrL,OAAA;cAAIgL,SAAS,EAAC,iCAAiC;cAAAzF,QAAA,EAAC;YAAoB;cAAA2F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EACxE/J,WAAW,iBACVtB,OAAA;cAAKgL,SAAS,EAAC,sEAAsE;cAAAzF,QAAA,EAAC;YAEtF;cAAA2F,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CACN;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,EAGLV,cAAc,CAACtH,MAAM,GAAG,CAAC,iBACxBrD,OAAA;YAAKgL,SAAS,EAAC,kFAAkF;YAAAzF,QAAA,EAC9FoF,cAAc,CAACzG,GAAG,CAACtB,KAAK,IAAI;cAC3B,MAAMkJ,KAAK,GAAGvB,aAAa,CAAC3H,KAAK,CAAC;cAClC,MAAMmJ,QAAQ,GAAG5K,YAAY,CAAC6F,GAAG,CAACpE,KAAK,CAAC;cACxC,MAAMiI,UAAU,GAAGlI,aAAa,CAACC,KAAK,EAAE,KAAK,CAAC;cAE9C,oBACE5C,OAAA;gBAEE4L,OAAO,EAAEA,CAAA,KAAMxB,qBAAqB,CAACxH,KAAK,CAAE;gBAC5CoI,SAAS,EAAE,gHACTe,QAAQ,GACJ,6CAA6C,GAC7C,GAAGlB,UAAU,CAACvH,EAAE,IAAIuH,UAAU,CAAC5H,KAAK,IAAI4H,UAAU,CAAC9H,MAAM,IAAI8H,UAAU,CAAC7H,WAAW,EAAE,EACxF;gBAAAuC,QAAA,GAEFwG,QAAQ,gBAAG/L,OAAA,CAACH,MAAM;kBAACoL,IAAI,EAAE;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,gBAAGrL,OAAA,CAACJ,GAAG;kBAACqL,IAAI,EAAE;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eACpDrL,OAAA;kBAAMgL,SAAS,EAAC,aAAa;kBAAAzF,QAAA,EAAEkF,aAAa,CAAC7H,KAAK;gBAAC;kBAAAsI,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,eAC3DrL,OAAA;kBAAMgL,SAAS,EAAC,2CAA2C;kBAAAzF,QAAA,GACxDuG,KAAK,CAACjJ,SAAS,EAAC,GAAC,EAACiJ,KAAK,CAACtB,KAAK;gBAAA;kBAAAU,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1B,CAAC;cAAA,GAZFzI,KAAK;gBAAAsI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAaJ,CAAC;YAEb,CAAC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CACN;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,eAENrL,OAAA;UAAKgL,SAAS,EAAC,yBAAyB;UAAAzF,QAAA,gBACtCvF,OAAA;YAAKgL,SAAS,EAAC,0DAA0D;YAAAzF,QAAA,GACtElF,KAAK,CAAC0D,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACnB,SAAS,CAAC,CAACQ,MAAM,EAAC,KAAG,EAAChD,KAAK,CAACgD,MAAM,EAAC,YAC1D;UAAA;YAAA6H,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACNrL,OAAA;YAAKgL,SAAS,EAAC,oDAAoD;YAAAzF,QAAA,EAChEzD,YAAY,GAAG,cAAc,GAAG;UAA0B;YAAAoJ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxD,CAAC,eACNrL,OAAA;YACE4L,OAAO,EAAEzB,KAAM;YACfa,SAAS,EAAC,iFAAiF;YAAAzF,QAAA,EAC5F;UAED;YAAA2F,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNrL,OAAA;MACEgM,GAAG,EAAEhK,SAAU;MACfgJ,SAAS,EAAE,4CAA4CtJ,SAAS,GAAG,iBAAiB,GAAGI,YAAY,GAAG,aAAa,GAAG,gBAAgB,EAAG;MACzIoB,KAAK,EAAE;QAAE+I,SAAS,EAAE;MAAO,CAAE;MAC7BC,WAAW,EAAEhG,cAAe;MAC5BiG,OAAO,EAAE3F,WAAY;MAAAjB,QAAA,eAErBvF,OAAA;QACEgL,SAAS,EAAC,kBAAkB;QAC5B9H,KAAK,EAAE;UACLkJ,SAAS,EAAE,aAAa5K,YAAY,CAACT,CAAC,OAAOS,YAAY,CAACR,CAAC,KAAK;UAChEmB,KAAK,EAAEF,UAAU,CAACE,KAAK;UACvBC,MAAM,EAAEH,UAAU,CAACG,MAAM;UACzBiK,eAAe,EAAE,wEAAwE;UACzFC,cAAc,EAAE;QAClB,CAAE;QAAA/G,QAAA,GAGD,KAAK,iBACJvF,OAAA;UACEgL,SAAS,EAAC,wEAAwE;UAClF9H,KAAK,EAAE;YAAEf,KAAK,EAAEF,UAAU,CAACE,KAAK;YAAEC,MAAM,EAAEH,UAAU,CAACG;UAAO,CAAE;UAAAmD,QAAA,GAG7DgH,KAAK,CAACpE,IAAI,CAAC;YAAC9E,MAAM,EAAE;UAAC,CAAC,CAAC,CAACa,GAAG,CAAC,CAACsI,CAAC,EAAEC,CAAC,kBAChCzM,OAAA;YAEE0M,EAAE,EAAEzK,UAAU,CAACE,KAAK,GAAIsK,CAAC,GAAGpK,IAAI,CAACC,YAAc;YAC/CqK,EAAE,EAAE,CAAE;YACNC,EAAE,EAAE3K,UAAU,CAACE,KAAK,GAAIsK,CAAC,GAAGpK,IAAI,CAACC,YAAc;YAC/CuK,EAAE,EAAE5K,UAAU,CAACG,MAAO;YACtB0K,MAAM,EAAC,SAAS;YAChBC,WAAW,EAAC,GAAG;YACfC,eAAe,EAAC;UAAK,GAPhB,KAAKP,CAAC,EAAE;YAAAvB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAQd,CACF,CAAC,EAEDkB,KAAK,CAACpE,IAAI,CAAC;YAAC9E,MAAM,EAAE;UAAE,CAAC,CAAC,CAACa,GAAG,CAAC,CAACsI,CAAC,EAAEC,CAAC,kBACjCzM,OAAA;YAEE0M,EAAE,EAAE,CAAE;YACNC,EAAE,EAAEtK,IAAI,CAACK,MAAM,GAAI+J,CAAC,GAAGpK,IAAI,CAACE,UAAY;YACxCqK,EAAE,EAAE3K,UAAU,CAACE,KAAM;YACrB0K,EAAE,EAAExK,IAAI,CAACK,MAAM,GAAI+J,CAAC,GAAGpK,IAAI,CAACE,UAAY;YACxCuK,MAAM,EAAC,SAAS;YAChBC,WAAW,EAAC,GAAG;YACfC,eAAe,EAAC;UAAK,GAPhB,KAAKP,CAAC,EAAE;YAAAvB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAQd,CACF,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CACN,eAGDrL,OAAA;UACEgL,SAAS,EAAC,6DAA6D;UACvE9H,KAAK,EAAE;YAAEf,KAAK,EAAEF,UAAU,CAACE,KAAK;YAAEC,MAAM,EAAEH,UAAU,CAACG;UAAO,CAAE;UAAAmD,QAAA,EAE7DtE,WAAW,CAACiD,GAAG,CAAC+I,IAAI,iBACnBjN,OAAA;YAAAuF,QAAA,gBACEvF,OAAA;cACEkN,CAAC,EAAED,IAAI,CAAC5E,IAAK;cACbyE,MAAM,EAAEG,IAAI,CAACpK,SAAS,GAAG,SAAS,GAAG,SAAU;cAC/CkK,WAAW,EAAC,GAAG;cACfI,IAAI,EAAC,MAAM;cACXnC,SAAS,EAAC,6BAA6B;cACvCgC,eAAe,EAAEC,IAAI,CAACpK,SAAS,GAAG,GAAG,GAAG;YAAM;cAAAqI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/C,CAAC,eACFrL,OAAA;cACEoN,EAAE,EAAEH,IAAI,CAAC9E,IAAI,CAACpH,CAAE;cAChBsM,EAAE,EAAEJ,IAAI,CAAC9E,IAAI,CAACnH,CAAE;cAChBsM,CAAC,EAAC,GAAG;cACLH,IAAI,EAAEF,IAAI,CAACpK,SAAS,GAAG,SAAS,GAAG;YAAU;cAAAqI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9C,CAAC,eACFrL,OAAA;cACEoN,EAAE,EAAEH,IAAI,CAAC7E,EAAE,CAACrH,CAAE;cACdsM,EAAE,EAAEJ,IAAI,CAAC7E,EAAE,CAACpH,CAAE;cACdsM,CAAC,EAAC,GAAG;cACLH,IAAI,EAAEF,IAAI,CAACpK,SAAS,GAAG,SAAS,GAAG;YAAU;cAAAqI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9C,CAAC;UAAA,GApBI4B,IAAI,CAACpI,EAAE;YAAAqG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAqBZ,CACJ;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,EAGLvE,eAAe,CAAC,CAAC,CAAC5C,GAAG,CAAEU,IAAI,IAAK;UAC/B,MAAM2I,WAAW,GAAGlN,KAAK,CAAC0D,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACsB,QAAQ,KAAKV,IAAI,CAACC,EAAE,CAAC,CAACxB,MAAM,GAAG,CAAC;UACxE,MAAMmK,SAAS,GAAGlM,WAAW,KAAKsD,IAAI,CAACC,EAAE;UACzC,MAAMgG,UAAU,GAAGlI,aAAa,CAACiC,IAAI,CAAChC,KAAK,EAAEgC,IAAI,CAAC/B,SAAS,CAAC;UAE5D,oBACE7C,OAAA;YAEEgL,SAAS,EAAE,GAAGJ,YAAY,CAAChG,IAAI,CAAC,mBAAmB4I,SAAS,GAAG,oCAAoC,GAAG,EAAE,EAAG;YAC3GtK,KAAK,EAAE;cACL8F,IAAI,EAAEpE,IAAI,CAACjB,QAAQ,CAAC5C,CAAC;cACrBkI,GAAG,EAAErE,IAAI,CAACjB,QAAQ,CAAC3C,CAAC;cACpBmB,KAAK,EAAEE,IAAI,CAACG,UAAU;cACtBJ,MAAM,EAAEC,IAAI,CAACI,WAAW;cACxB2J,SAAS,EAAE,CAAAzL,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEkE,EAAE,MAAKD,IAAI,CAACC,EAAE,GAAG,0BAA0B,GAAG,MAAM;cAC5E4I,MAAM,EAAE,CAAA9M,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEkE,EAAE,MAAKD,IAAI,CAACC,EAAE,GAAG,EAAE,GAAG,EAAE;cAC7C6I,aAAa,EAAEhM,SAAS,GAAG,MAAM,GAAG;YACtC,CAAE;YACFwK,WAAW,EAAGzG,CAAC,IAAK,CAAC/D,SAAS,IAAIkH,eAAe,CAACnD,CAAC,EAAEb,IAAI,CAAE;YAAAW,QAAA,EAE1DX,IAAI,CAAC+D,SAAS,gBACb3I,OAAA;cACEsL,IAAI,EAAC,MAAM;cACXqC,YAAY,EAAE/I,IAAI,CAACS,IAAK;cACxB2F,SAAS,EAAC,wIAAwI;cAClJS,WAAW,EAAC,eAAe;cAC3BmC,SAAS;cACTlC,SAAS,EAAGjG,CAAC,IAAK;gBAChB,IAAIA,CAAC,CAACkG,GAAG,KAAK,OAAO,IAAIlG,CAAC,CAACE,MAAM,CAAC4F,KAAK,CAACpG,IAAI,CAAC,CAAC,EAAE;kBAC9CyE,UAAU,CAAChF,IAAI,CAACC,EAAE,EAAEY,CAAC,CAACE,MAAM,CAAC4F,KAAK,CAAC;gBACrC;cACF,CAAE;cACFsC,MAAM,EAAGpI,CAAC,IAAK;gBACb,IAAIA,CAAC,CAACE,MAAM,CAAC4F,KAAK,CAACpG,IAAI,CAAC,CAAC,EAAE;kBACzByE,UAAU,CAAChF,IAAI,CAACC,EAAE,EAAEY,CAAC,CAACE,MAAM,CAAC4F,KAAK,CAAC;gBACrC,CAAC,MAAM;kBACLxB,UAAU,CAACnF,IAAI,CAACC,EAAE,CAAC;gBACrB;cACF;YAAE;cAAAqG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,gBAEFrL,OAAA,CAAAE,SAAA;cAAAqF,QAAA,gBACEvF,OAAA;gBAAKgL,SAAS,EAAC,6BAA6B;gBAAAzF,QAAA,GACzCX,IAAI,CAAChC,KAAK,KAAK,CAAC,iBACf5C,OAAA,CAACP,MAAM;kBAACuL,SAAS,EAAC,oCAAoC;kBAACC,IAAI,EAAE;gBAAG;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CACnE,eACDrL,OAAA;kBACEgL,SAAS,EAAE,4GACTpG,IAAI,CAAC/B,SAAS,GAAG,cAAc,GAAG,EAAE,IAClC+B,IAAI,CAAChC,KAAK,KAAK,CAAC,GAAG,mBAAmB,GAAG,EAAE,IAAIiI,UAAU,CAAC5H,KAAK,EAAG;kBACtE2I,OAAO,EAAEA,CAAA,KAAM/B,YAAY,CAACjF,IAAI,CAACC,EAAE,CAAE;kBACrCiJ,KAAK,EAAC,eAAe;kBAAAvI,QAAA,EAEpBX,IAAI,CAACS,IAAI,IAAI;gBAAsB;kBAAA6F,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACnC,CAAC,eACJrL,OAAA;kBAAKgL,SAAS,EAAC,8EAA8E;kBAAAzF,QAAA,gBAC3FvF,OAAA,CAACN,KAAK;oBAACsL,SAAS,EAAC,eAAe;oBAACC,IAAI,EAAE;kBAAG;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,eAC7CrL,OAAA,CAACL,IAAI;oBAACqL,SAAS,EAAC,eAAe;oBAACC,IAAI,EAAE;kBAAG;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACzC,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC,EAGLkC,WAAW,iBACVvN,OAAA;gBAAKgL,SAAS,EAAC,MAAM;gBAAAzF,QAAA,EAClB,CAAC,MAAM;kBACN,MAAMA,QAAQ,GAAGlF,KAAK,CAAC0D,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACsB,QAAQ,KAAKV,IAAI,CAACC,EAAE,CAAC;kBAC1D,MAAMhC,SAAS,GAAG0C,QAAQ,CAACxB,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACnB,SAAS,CAAC,CAACQ,MAAM;kBAC1D,MAAMmH,KAAK,GAAGjF,QAAQ,CAAClC,MAAM;kBAC7B,MAAM0K,UAAU,GAAGvD,KAAK,GAAG,CAAC,GAAI3H,SAAS,GAAG2H,KAAK,GAAI,GAAG,GAAG,CAAC;kBAE5D,oBACExK,OAAA;oBAAKgL,SAAS,EAAC,WAAW;oBAAAzF,QAAA,gBACxBvF,OAAA;sBAAKgL,SAAS,EAAC,4CAA4C;sBAAAzF,QAAA,gBACzDvF,OAAA;wBAAAuF,QAAA,GAAO1C,SAAS,EAAC,GAAC,EAAC2H,KAAK,EAAC,WAAS;sBAAA;wBAAAU,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC,eACzCrL,OAAA;wBAAAuF,QAAA,GAAOpC,IAAI,CAACS,KAAK,CAACmK,UAAU,CAAC,EAAC,GAAC;sBAAA;wBAAA7C,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAM,CAAC;oBAAA;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACnC,CAAC,eACNrL,OAAA;sBAAKgL,SAAS,EAAC,uCAAuC;sBAAAzF,QAAA,eACpDvF,OAAA;wBACEgL,SAAS,EAAC,sGAAsG;wBAChH9H,KAAK,EAAE;0BAAEf,KAAK,EAAE,GAAG4L,UAAU;wBAAI;sBAAE;wBAAA7C,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OACpC;oBAAC;sBAAAH,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OACC,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACH,CAAC;gBAEV,CAAC,EAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACD,CACN,eAEDrL,OAAA;gBAAKgL,SAAS,EAAC,yCAAyC;gBAAAzF,QAAA,gBACtDvF,OAAA;kBACE4L,OAAO,EAAEA,CAAA,KAAMtD,UAAU,CAAC1D,IAAI,CAACC,EAAE,CAAE;kBACnCmG,SAAS,EAAC,oPAAoP;kBAAAzF,QAAA,gBAE9PvF,OAAA,CAACV,IAAI;oBAAC2L,IAAI,EAAE;kBAAG;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAE,CAAC,cAEpB;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAQ,CAAC,eAETrL,OAAA;kBAAKgL,SAAS,EAAC,cAAc;kBAAAzF,QAAA,GAC1BX,IAAI,CAAChC,KAAK,GAAG,CAAC,iBACb5C,OAAA;oBACE4L,OAAO,EAAEA,CAAA,KAAM1B,WAAW,CAACtF,IAAI,CAACC,EAAE,CAAE;oBACpCmG,SAAS,EAAE,oGACTwC,SAAS,GACL,wCAAwC,GACxC,iEAAiE,EACpE;oBACHM,KAAK,EAAEN,SAAS,GAAG,iBAAiB,GAAG,sBAAuB;oBAAAjI,QAAA,eAE9DvF,OAAA,CAACF,KAAK;sBAACmL,IAAI,EAAE;oBAAG;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACb,CACT,eAEDrL,OAAA;oBACE4L,OAAO,EAAEA,CAAA,KAAM9B,cAAc,CAAClF,IAAI,CAACC,EAAE,CAAE;oBACvCmG,SAAS,EAAE,oGACTpG,IAAI,CAAC/B,SAAS,GACV,0CAA0C,GAC1C,oEAAoE,EACvE;oBAAA0C,QAAA,eAEHvF,OAAA,CAACT,KAAK;sBAAC0L,IAAI,EAAE;oBAAG;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACb,CAAC,EAERzG,IAAI,CAAChC,KAAK,GAAG,CAAC,iBACb5C,OAAA;oBACE4L,OAAO,EAAEA,CAAA,KAAM7B,UAAU,CAACnF,IAAI,CAACC,EAAE,CAAE;oBACnCmG,SAAS,EAAC,+JAA+J;oBAAAzF,QAAA,eAEzKvF,OAAA,CAACR,CAAC;sBAACyL,IAAI,EAAE;oBAAG;sBAAAC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAE;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACT,CACT;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACH,CAAC;YAAA,eACN;UACH,GA/HIzG,IAAI,CAACC,EAAE;YAAAqG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAgIT,CAAC;QAEV,CAAC,CAAC,EAGDhL,KAAK,CAACgD,MAAM,KAAK,CAAC,iBACjBrD,OAAA;UAAKgL,SAAS,EAAC,oGAAoG;UAAAzF,QAAA,eACjHvF,OAAA;YAAKgL,SAAS,EAAC,wBAAwB;YAAAzF,QAAA,gBACrCvF,OAAA,CAACP,MAAM;cAACuL,SAAS,EAAC,sBAAsB;cAACC,IAAI,EAAE;YAAG;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC,eACrDrL,OAAA;cAAAuF,QAAA,gBACEvF,OAAA;gBAAIgL,SAAS,EAAC,oCAAoC;gBAAAzF,QAAA,EAAC;cAAyB;gBAAA2F,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACjFrL,OAAA;gBAAIgL,SAAS,EAAC,mCAAmC;gBAAAzF,QAAA,gBAC/CvF,OAAA;kBAAAuF,QAAA,GAAI,SAAE,eAAAvF,OAAA;oBAAAuF,QAAA,EAAQ;kBAAsB;oBAAA2F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,kBAAc;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAChErL,OAAA;kBAAAuF,QAAA,GAAI,SAAE,eAAAvF,OAAA;oBAAAuF,QAAA,EAAQ;kBAAiB;oBAAA2F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,iCAA6B;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAC1ErL,OAAA;kBAAAuF,QAAA,GAAI,SAAE,eAAAvF,OAAA;oBAAAuF,QAAA,EAAQ;kBAAgB;oBAAA2F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,oCAAgC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAC5ErL,OAAA;kBAAAuF,QAAA,GAAI,SAAE,eAAAvF,OAAA;oBAAAuF,QAAA,EAAQ;kBAAU;oBAAA2F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,0BAAsB;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAC5DrL,OAAA;kBAAAuF,QAAA,GAAI,SAAE,eAAAvF,OAAA;oBAAAuF,QAAA,EAAQ;kBAAY;oBAAA2F,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC,kBAAc;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACpD,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACF,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CACN;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACjL,EAAA,CAtyBID,kBAAkB;AAAA6N,EAAA,GAAlB7N,kBAAkB;AAwyBxB,eAAeA,kBAAkB;AAAC,IAAA6N,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}